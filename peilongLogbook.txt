Wed 26 OCT 16
I attended the "Trigger for Physics" workshop in the morning and had lunch with all SMU people at CERN. Then I went to the Hbb meeting with Steve and Mattew at 1:30pm and went back to the afternon section of the workshop to listen the talk and the discussion for the trigger of 2017 run. I went to CERN building 55 to get my ID card. Then I attended the "b-jet trigger worshop" meeting. It is a service task workshop and I met some people I don't recognize there. After that, I had dinner with Steve and Matthew. We talked a lot about Mars, astronomy, space-time, universe fluctation. They talked about a movie - "Total Recall" 1990. I might watch it sometime. 

I also heard from Jeff and Steve that the 2 lepton data for Hbb framework is not found yet.

Service task waiting for Steve meeting with Argonne.

I also added the logbook and PhD thesis git repository.


Thu 27 OCT 16
eosLocation=root://eosatlas.cern.ch//eos/atlas/unpledged/group-tokyo/users/yenari/20160708/HIGG2D4_13TeV/CxAOD_00-24-07/ttbar/group.phys-higgs.mc15_13TeV.410000.PwPyEG_P2012_ttbar_hdamp172p5_nonallhad.s2608.HIGG2D4.24-7_CxAOD.root/

cat filename.txt | xargs -i xrdcp ${eosLocation}{} /scratch/users/peilongw

--------------
xargs command is designed to construct argument lists and invoke other utility. xargs reads items from the standard input or pipes, delimited by blanks or newlines, and executes the command one or more times with any initial-arguments followed by items read from standard input. Blank lines on the standard input are ignored.


Fri 28 OCT 16
find . -name "*DiskListLocal.cxx"


Wed 2 Nov 16
yum check-update
    This command allows you to determine whether any updates are available for your installed packages. yum returns a list of all package updates from all repositories if any are available. 

yum update package_name
    Used to update the specified packages to the latest available version. If no packages are specified, then yum will attempt to update all installed packages.
    If the --obsoletes option is used (i.e. yum --obsoletes package_name), yum will process obsolete packages. As such, packages that are obsoleted across updates will be removed and replaced accordingly. 

It makes no difference whether double or single quotes are used when creating an alias.
    alias ll='ls -al'

RPM package install:
rpm -ivh package_name 

-i: install
-v: installation details
-h: installation progress



Thu 3 Nov 16
Eventloop: to speed compiling:

rc find_packages --restrict=FrameworkExe
rc compile


Tue 8 Nov 16
Emacs remote load files:
/ssh:user@remotehost:/etc


Use grep recursively

You can search recursively i.e. read all files under each directory for a string “192.168.1.5”
$ grep -r "192.168.1.5" /etc/
OR
$ grep -R "192.168.1.5" /etc/



Nov 8, 16
CSCOPE source browsing tool


逆向工程：C++ source code to UML
1. Rational Rose 2003
2. Visual C++
3. and so on.



Nov 15, 16
/users/peilongw/Project/CxAOD/CxAODReader/CxAODReader
BookFillHist overload:
	void BookFillHist(const string& name, int nbinsx, float xlow, float xup, float value, float weight=1);
	void BookFillHist(const string& name, int nbinsx, float* xbins, float value, float weight=1);
  	void BookFillHist(const string& name, int nbinsx, float xlow, float xup, int nbinsy, float ylow, float yup, float xvalue, float yvalue, float weigh\
t=1);
	void BookFillHist(const string& name, int nbinsx, float* xbins, int nbinsy, float* ybins, float xvalue,  float yvalue, float weight=1);

/users/peilongw/Project/CxAOD/CxAODReader_VHbb/Root
AnalysisReader_VHbb2Lep.cxx:

Vector name: HVec_gsc.M()
HVec_gsc=mergedH.vec_gsc;
HVec_gsc=resolvedH.vec_gsc;
   
The name of the Pt(j1) vs Mbb plot: GSCMbbVSPtJ1


Nov 17, 16

yum how to check installed package:

yum list installed
    Lists all packages installed on your system. The rightmost column in the output lists the repository from which the package was retrieved. 


How to unpack .tar.gz
tar -xvzf community_images.tar.gz
To explain a little further, tar collected all the files into one package, community_images.tar. The gzip program applied compression, hence the gz extension. So the command does a couple things:

    f: this must be the last flag of the command, and the tar file must be immediately after. It tells tar the name and path of the compressed file.
    z: tells tar to decompress the archive using gzip
    x: tar can collect files or extract them. x does the latter.
    v: makes tar talk a lot. Verbose output shows you all the files being extracted.

eosLocation=root://eosatlas.cern.ch//eos/atlas/unpledged/group-tokyo/users/yenari/20160708/HIGG2D4_13TeV/CxAOD_00-24-07/ZHll125/group.phys-higgs.mc15_13TeV.341102.Py8EG_A14NNPDF23LO_ZllH125_bb.s2608.HIGG2D4.24-7_CxAOD.root/

cat filename_ZHll125.txt | xargs -i xrdcp ${eosLocation}{} /scratch/users/peilongw


linux check folder size
du -sh *


prepare to install local ROOT tomorrow



Nov 18, 16
Emacs jump to the end of the file:
M->: Go the end of the file
M-x package-list-...

Type i before the package name for mark
Tyep x for install

emacs iedit mode:
move on the variables
type C-c ; to start
tyrpe C-x ; to exit


Working on GitLab:
Command line instructions
Git global setup # non global -> just remove --global

git config --global user.name "Peilong Wang"
git config --global user.email "peilong.wang@cern.ch"

Create a new repository

git clone https://gitlab.cern.ch/pewang/HbbAnalysis.git
cd HbbAnalysis
touch README.md
git add README.md
git commit -m "add README"
git push -u origin master

Existing folder or Git repository

cd existing_folder
git init
git remote add origin https://gitlab.cern.ch/pewang/HbbAnalysis.git
git add .
git commit
git push -u origin master


ROOT file:
How to read histgram from ROOT file
  TFile *f1 = new TFile("./submitDir/hist-mc15_13TeV.342619.aMcAtNloHerwigppEvtGen_UEEE5_CTEQ6L1_CT10ME_
hh_4b.merge.DAOD_EXOT8.e4419_s2608_r6869_r6282_p2438.root");
  /*
  f1->ls();

  TH1F *bPT = (TH1F*)f1->Get("h4_bEnergy");


C++ code naming convention:
file name must be lower case, underline is used to seperate words, such as my_useful_class.cc
class name must capitalize the First word, no underline included, such as MyExcitingClass
variable name must be lower case, underline is used to seperate words, such as string table_name, -- class data member follow the same naming rule
constant variable name: adding a "c" in front of the variables, such as const int cDaysInAWeek = 7;
function name: common function -> no underline, capitialize the first word, such as AddTableEntry() DeleteUrl() OpenFileOrDie()
	       set function & get function in the class -> the name should be corresponed to the variable name, such as:
	       	   class MyClass {
  		     public:
			...
			int num_entries() const { return num_entries_; }
        		void set_num_entries(int num_entries) { num_entries_ = num_entries; }

    		     private:
			int num_entries_;
		  };


Linux file naming convention:
. is used to separate a filetype extension, e.g. foo.txt.

- or _ is used to separate logical words, e.g. my-big-file.txt or sometimes my_big_file.txt. - is better because you don't have to press the Shift key, others prefer _ because it looks more like a space.

So if I understand your example, backup-part2-random or backup_part2_random would be closest to the normal Unix convention.


ROOT CERN interactive mode:
how to filter needed file?
TFile *f1 = new TFile("/home/peilong/Downloads/ttbar/hist-ttbar.root")
f1->ls()

ROOT plot two histogram together:
  ttbar_2tag2pjet_0_500ptv_SR_GSCMbbVSPtJ1->Draw();
  ttbar_2tag2pjet_0_500ptv_mBBcr_GSCMbbVSPtJ1->Draw("same");


TCanvas::TCanvas(const char *name, const char *title, Int_t form) : TPad(), fDoubleBuffer(0)
  222 {
  223    fPainter = 0;
  224    fUseGL = gStyle->GetCanvasPreferGL();
  225 
  226    Constructor(name, title, form);
  227 }
  228 
  229 ////////////////////////////////////////////////////////////////////////////////
  230 /// Create a new canvas with a predefined size form.
  231 /// If form < 0  the menubar is not shown.
  232 ///
  233 /// - form = 1    700x500 at 10,10 (set by TStyle::SetCanvasDefH,W,X,Y)
  234 /// - form = 2    500x500 at 20,20
  235 /// - form = 3    500x500 at 30,30
  236 /// - form = 4    500x500 at 40,40
  237 /// - form = 5    500x500 at 50,50


yum repoinfo

yum repolist 
