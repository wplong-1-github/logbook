Wed 26 OCT 16
I attended the "Trigger for Physics" workshop in the morning and had lunch with all SMU people at CERN. Then I went to the Hbb meeting with Steve and Mattew at 1:30pm and went back to the afternon section of the workshop to listen the talk and the discussion for the trigger of 2017 run. I went to CERN building 55 to get my ID card. Then I attended the "b-jet trigger worshop" meeting. It is a service task workshop and I met some people I don't recognize there. After that, I had dinner with Steve and Matthew. We talked a lot about Mars, astronomy, space-time, universe fluctation. They talked about a movie - "Total Recall" 1990. I might watch it sometime. 

I also heard from Jeff and Steve that the 2 lepton data for Hbb framework is not found yet.

Service task waiting for Steve meeting with Argonne.

I also added the logbook and PhD thesis git repository.


Thu 27 OCT 16
eosLocation=root://eosatlas.cern.ch//eos/atlas/unpledged/group-tokyo/users/yenari/20160708/HIGG2D4_13TeV/CxAOD_00-24-07/ttbar/group.phys-higgs.mc15_13TeV.410000.PwPyEG_P2012_ttbar_hdamp172p5_nonallhad.s2608.HIGG2D4.24-7_CxAOD.root/

cat filename.txt | xargs -i xrdcp ${eosLocation}{} /scratch/users/peilongw

--------------
xargs command is designed to construct argument lists and invoke other utility. xargs reads items from the standard input or pipes, delimited by blanks or newlines, and executes the command one or more times with any initial-arguments followed by items read from standard input. Blank lines on the standard input are ignored.


Fri 28 OCT 16
find . -name "*DiskListLocal.cxx"


Wed 2 Nov 16
yum check-update
    This command allows you to determine whether any updates are available for your installed packages. yum returns a list of all package updates from all repositories if any are available. 

yum update package_name
    Used to update the specified packages to the latest available version. If no packages are specified, then yum will attempt to update all installed packages.
    If the --obsoletes option is used (i.e. yum --obsoletes package_name), yum will process obsolete packages. As such, packages that are obsoleted across updates will be removed and replaced accordingly. 

It makes no difference whether double or single quotes are used when creating an alias.
    alias ll='ls -al'

RPM package install:
rpm -ivh package_name.rpm

-i: install
-U: Upgrade
-v: installation details
-h: installation progress



Thu 3 Nov 16
Eventloop: to speed compiling:

rc find_packages --restrict=FrameworkExe
rc compile


Tue 8 Nov 16
Emacs remote load files:
/ssh:user@remotehost:/etc


Use grep recursively

You can search recursively i.e. read all files under each directory for a string “192.168.1.5”
$ grep -r "192.168.1.5" /etc/
OR
$ grep -R "192.168.1.5" /etc/



Nov 8, 16
CSCOPE source browsing tool


逆向工程：C++ source code to UML
1. Rational Rose 2003
2. Visual C++
3. and so on.



Nov 15, 16
/users/peilongw/Project/CxAOD/CxAODReader/CxAODReader
BookFillHist overload:
	void BookFillHist(const string& name, int nbinsx, float xlow, float xup, float value, float weight=1);
	void BookFillHist(const string& name, int nbinsx, float* xbins, float value, float weight=1);
  	void BookFillHist(const string& name, int nbinsx, float xlow, float xup, int nbinsy, float ylow, float yup, float xvalue, float yvalue, float weigh\
t=1);
	void BookFillHist(const string& name, int nbinsx, float* xbins, int nbinsy, float* ybins, float xvalue,  float yvalue, float weight=1);

/users/peilongw/Project/CxAOD/CxAODReader_VHbb/Root/AnalysisReader_VHbb2Lep.cxx:

Vector name: HVec_gsc.M()
HVec_gsc=mergedH.vec_gsc;
HVec_gsc=resolvedH.vec_gsc;
   
The name of the Pt(j1) vs Mbb plot: GSCMbbVSPtJ1


Nov 17, 16

yum how to check installed package:

yum list installed
    Lists all packages installed on your system. The rightmost column in the output lists the repository from which the package was retrieved. 


How to unpack .tar.gz
tar -xvzf community_images.tar.gz
To explain a little further, tar collected all the files into one package, community_images.tar. The gzip program applied compression, hence the gz extension. So the command does a couple things:

    f: this must be the last flag of the command, and the tar file must be immediately after. It tells tar the name and path of the compressed file.
    z: tells tar to decompress the archive using gzip
    x: tar can collect files or extract them. x does the latter.
    v: makes tar talk a lot. Verbose output shows you all the files being extracted.

eosLocation=root://eosatlas.cern.ch//eos/atlas/unpledged/group-tokyo/users/yenari/20160708/HIGG2D4_13TeV/CxAOD_00-24-07/ZHll125/group.phys-higgs.mc15_13TeV.341102.Py8EG_A14NNPDF23LO_ZllH125_bb.s2608.HIGG2D4.24-7_CxAOD.root/

cat filename_ZHll125.txt | xargs -i xrdcp ${eosLocation}{} /scratch/users/peilongw


linux check folder size
du -sh *


prepare to install local ROOT tomorrow



Nov 18, 16
Emacs jump to the end of the file:
M->: Go the end of the file
M-x package-list-...

Type i before the package name for mark
Tyep x for install

emacs iedit mode:
move on the variables
type C-c ; to start
tyrpe C-x ; to exit


Working on GitLab:
Command line instructions
Git global setup # non global -> just remove --global

git config --global user.name "Peilong Wang"
git config --global user.email "peilong.wang@cern.ch"

Create a new repository

git clone https://gitlab.cern.ch/pewang/HbbAnalysis.git
cd HbbAnalysis
touch README.md
git add README.md
git commit -m "add README"
git push -u origin master

Existing folder or Git repository

cd existing_folder
git init
git remote add origin https://gitlab.cern.ch/pewang/HbbAnalysis.git
git add .
git commit
git push -u origin master


ROOT file:
How to read histgram from ROOT file
  TFile *f1 = new TFile("./submitDir/hist-mc15_13TeV.342619.aMcAtNloHerwigppEvtGen_UEEE5_CTEQ6L1_CT10ME_
hh_4b.merge.DAOD_EXOT8.e4419_s2608_r6869_r6282_p2438.root");
  /*
  f1->ls();

  TH1F *bPT = (TH1F*)f1->Get("h4_bEnergy");


C++ code naming convention:
file name must be lower case, underline is used to seperate words, such as my_useful_class.cc
class name must capitalize the First word, no underline included, such as MyExcitingClass
variable name must be lower case, underline is used to seperate words, such as string table_name, -- class data member follow the same naming rule
constant variable name: adding a "c" in front of the variables, such as const int cDaysInAWeek = 7;
function name: common function -> no underline, capitialize the first word, such as AddTableEntry() DeleteUrl() OpenFileOrDie()
	       set function & get function in the class -> the name should be corresponed to the variable name, such as:
	       	   class MyClass {
  		     public:
			...
			int num_entries() const { return num_entries_; }
        		void set_num_entries(int num_entries) { num_entries_ = num_entries; }

    		     private:
			int num_entries_;
		  };


Linux file naming convention:
. is used to separate a filetype extension, e.g. foo.txt.

- or _ is used to separate logical words, e.g. my-big-file.txt or sometimes my_big_file.txt. - is better because you don't have to press the Shift key, others prefer _ because it looks more like a space.

So if I understand your example, backup-part2-random or backup_part2_random would be closest to the normal Unix convention.

---> added on Nov 20, 16
- Directory => uppercase
- file => lowercase
- space => '_' --Peilong's comment--|| "_" used to connect/seperate two close meaning words, such as "x86_64"  || version treated as 1 word, seperated by "."
- manually version control file => '-' as separator --Peilong's comment--|| "-" used to seperate words, such as kernel version 3.10.0-327.36.3.el7.x86_64 || directory generally follows the same rule as the file, but directory can use Uppercase if necessary.
\u@\h> ls -1
ANOTHER_FOLDER
WORKS
---> end of added on Nov 20, 16


ROOT CERN interactive mode:
how to filter needed file?
TFile *f1 = new TFile("/home/peilong/Downloads/ttbar/hist-ttbar.root")
f1->ls()

ROOT plot two histogram together:
  ttbar_2tag2pjet_0_500ptv_SR_GSCMbbVSPtJ1->Draw();
  ttbar_2tag2pjet_0_500ptv_mBBcr_GSCMbbVSPtJ1->Draw("same");


TCanvas::TCanvas(const char *name, const char *title, Int_t form) : TPad(), fDoubleBuffer(0)
  222 {
  223    fPainter = 0;
  224    fUseGL = gStyle->GetCanvasPreferGL();
  225 
  226    Constructor(name, title, form);
  227 }
  228 
  229 ////////////////////////////////////////////////////////////////////////////////
  230 /// Create a new canvas with a predefined size form.
  231 /// If form < 0  the menubar is not shown.
  232 ///
  233 /// - form = 1    700x500 at 10,10 (set by TStyle::SetCanvasDefH,W,X,Y)
  234 /// - form = 2    500x500 at 20,20
  235 /// - form = 3    500x500 at 30,30
  236 /// - form = 4    500x500 at 40,40
  237 /// - form = 5    500x500 at 50,50


yum repoinfo

yum repolist 

Install the EPEL repository on CentOS and Red Hat

You install the EPEL repository by downloading the appropriate RPM package for your system and installing it. The following instructions use the 64-bit packages that work with Rackspace Cloud Servers instances.

CentOS Extras repository

The CentOS Extras repository includes a package to install EPEL, and is enabled by default. To install the EPEL package, run the following command:

sudo yum install epel-release



Nov 19, 16

latex newlog.tex
xdvi newlog.dvi

or 
pdflatex newlog.tex

Taken from China
kinds of tea and souvenir
tea and snacker for talking


/users/peilongw/Project/CxAOD/CxAODReader_VHbb/Root/AnalysisReader_VHbb2Lep.cxx:
What does Mbb mean: m_etree->get<float>("GSCMbb")
m_etree->SetBranchAndValue<float>("GSCMbb", HVec_gsc.M(), -99);

if ( m_physicsMeta.regime == PhysicsMetadata::Regime::resolved ) {
HVec_gsc=resolvedH.vec_gsc;
} else if ( m_physicsMeta.regime == PhysicsMetadata::Regime::merged ){
HVec_gsc=mergedH.vec_gsc;
}

TLorentzVector HVec_gsc;



What does pT(j1) mean: m_etree->get<float>("GSCMbbJ1Pt")



Nov 20, 16
Display full date in task bar -- CentOS
gnome-tweak-tool used to have settings for that in previous versions.

Title of the figure: Y vs. X
A vs. B = "A when B is ..." implying that A is on the vertical and B is on the horizontal if vertical is dependent 


I git push my work to a remote Git repository.
Every push will prompt me to input username and password. I would like to avoid it for every push, but how to configure to avoid it?

1. Generate an SSH key

Linux/Mac
Open terminal to create ssh keys:

cd ~                 #Your home directory
ssh-keygen -t rsa    #Press enter for all values

2. Associate the SSH key with the remote repository

This step varies, depending on how your remote is set up.

If it is a GitHub repository and you have administrative privileges, go to settings and click 'add SSH key'. Copy the contents of your ~/.ssh/id_rsa.pub into the field labeled 'Key'.
If your repository is administered by somebody else, give the administrator your id_rsa.pub.

3. Set your remote URL to a form that supports SSH 1

If you have done the steps above and are still getting the password prompt, make sure your repo URL is in the form

git+ssh://git@github.com/username/reponame.git

as opposed to

https://github.com/username/reponame.git

To see your repo URL, run:

git remote show origin

You can change the URL with:

git remote set-url origin git@github.com/username/reponame.git

or 

emacs -nw .git/config
then edit the file:

[remote "origin"]
        url = git@github.com:wplongpub/language.git


Adjusting the position and size of the figure of LibreOffice Impress:
Directly input the number of the position and size.



Nov 30, 16

SVN FLIC repository:
@CERN: svn+ssh://jwebster@svn.cern.ch/reps/atlastdaq/FTK/flic/trunk
@Argonne: https://svn.inside.anl.gov/repos/hep_elecdesign/FTK/

svn checkout svn+ssh://pewang@svn.cern.ch/reps/atlastdaq/FTK/flic/trunk

compiling the standalone testing tools...
cd flic/standalone
make

server: atlas1.hep.anl.gov
server: ssh nathan

The goal now is to
1) let both FLIK 1 and FLIK 2 conenct to USTB, then we can log into USTB10 to setup FLIK

2) ATCA blade can be accessed through nathan<-atlas1

3) communication between ATCA blade and FLIC is realized through wireshark


Current plan:
1) let FLIC send data to ATCA blade
2) see whether ATCA blade is able to receive it.
   Question: how could ATCA blade receive the data
   by wireshark?


2.6.1. Installing from RPM’s under Red Hat and alike

Building RPMs from Wireshark’s source code results in several packages (most distributions follow the same system):

    The wireshark package contains the core Wireshark libraries and command-line tools.
    The wireshark-qt package contains the Qt-based GUI.
    The wireshark-gtk (formerly wireshark-gnome) package contains the legacy Gtk+ based GUI. 

Many distributions use yum or a similar package management tool to make installation of software (including its dependencies) easier. If your distribution uses yum, use the following command to install Wireshark together with the Qt GUI:

yum install wireshark wireshark-qt

If you’ve built your own RPMs from the Wireshark sources you can install them by running, for example:

// abandon this way: rpm -ivh wireshark-2.0.0-1.x86_64.rpm wireshark-qt-2.0.0-1.x86_64.rpm
use this way: yum --nogpgcheck localinstall packagename.arch.rpm 
link-> https://wiki.centos.org/TipsAndTricks/YumAndRPM#head-3c061f4a180e5bc90b7f599c4e0aebdb2d5fc7f6

If the above command fails because of missing dependencies, install the dependencies first, and then retry the step above.


Dec 1, 16

enp0s20u6: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet6 fe80::7ec3:a1ff:fe89:18d2  prefixlen 64  scopeid 0x20<link>
        ether 7c:c3:a1:89:18:d2  txqueuelen 1000  (Ethernet)
        RX packets 0  bytes 0 (0.0 B)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 0  bytes 3256 (3.1 KiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

-> bottom board
10.193.32.17

---    6 Without IPMC    ( 10.193.32.18 , 50000 , 10.193.32.17 )


black eth2 -- bottom board
white eth3 -- top board 
on USTB 14


svn ci -m "xXXX" 
svn commit

svn up
-- git pull

ssh ustb10


enp0s20u6: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 10.193.32.17  netmask 255.255.255.0  broadcast 10.193.32.255
        inet6 fe80::8eae:4cff:fefe:cb7e  prefixlen 64  scopeid 0x20<link>
        ether 8c:ae:4c:fe:cb:7e  txqueuelen 1000  (Ethernet)
        RX packets 0  bytes 0 (0.0 B)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 0  bytes 1658 (1.6 KiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0


iptables -F


flicscope_8x8 both boards

10.153.37.15
processor

1. power on

2 Program All FPGAs



svn up 
-- update

        COUNTER      COUNT   EXPECTED (±2 MHz)
         SRAM_REFCLK         79                   80
          DDR_REFCLK        199                  200
       GTX112_REFCLK        124                  125
        GTX112_TXCLK         99                  100
        GTX112_RXCLK         99                  100
       GTX116_REFCLK        124                  125
        GTX116_TXCLK         99                  100
        GTX116_RXCLK         99                  100
             COUNTER      COUNT   EXPECTED (±2 MHz)
         SRAM_REFCLK         79                   80
          DDR_REFCLK        199                  200
       GTX112_REFCLK        124                  125
        GTX112_TXCLK         99                  100
        GTX112_RXCLK         99                  100
       GTX116_REFCLK        124                  125
        GTX116_TXCLK         99                  100
        GTX116_RXCLK         99                  100

 225 Change to "dump data on the floor" mode



  90 Initialize counters
  76 Send single event
  91 Dump counters
  77 Start SSBe data

< 100 number of tracks
5-10

Enter fixed delay between events [1-4095] : 
1000

first 4 channels

second 4 channels

data from flic to blade through eth6 or 7 ( through the back of ATCA crate)



Dec 2, 16

steps to 7
90

running wireshark on blade
nothing got captured
back to check FLIC control code



Dec 3, 16

LHC luminosity upgrade is planned in threes stages:
Phase 0 (2015-2018): LHC energy 8→13-14 TeV with full current, and L~1-2x10^34, and ⟨μ⟩ up to ~80, to integrate 150 fb-1 until LS2.
Phase 1 (2021-2023): 14 TeV. Integrate to 300 fb-1 until LS3.
Phase 2 (2026-2030): HL-LHC upgrade with luminosity levelling 5-7x1034, ⟨μ⟩ up to ~200, to integrate 3000 fb-1.

The high instantaneous luminosity(???) expected for Phase 1 upgrade to LHC will pose challenges to achieving these goals for the trigger system. The existing ATLAS trigger system, consisting of a hardware-based Level 1 and a CPU-base High Level Trigger with its Level 2 and Event Filter, was designed to work well at the LHC design luminosity. _However_ after the planned luminosity upgrade, the detector environment will be complicated by the increase in detector activity arising from many simultaneous interactions. Additionally, the proposed upgrades to the hardware level 1 Trigger will allow an increased rate into the HLT.

The Fast TracKer or FTK, which will do global track reconstruction after each level-1 trigger to have enable the level-2 trigger to have early access to tracking information.

 
linux check running process command:
# ps aux | less


linux kill process command
# kill process number#


My lscpu says there are 96 cores. Are those physical cores? What is the maximum and optimal thread that I can run on this machine?

This is what you want to know

Thread(s) per core:    2
Core(s) per socket:    12
Socket(s):             4

You have 4 CPU sockets, each CPU can have, up to, 12 cores and each core can have two threads.

PixelClustersYour max thread count is, 4 CPU x 12 cores x 2 threads per core, so 12 x 4 x 2 is 96. Therefore the max thread count is 96 and max core count is 48.

What is better ?

That depends on what you want to do, more threads means less frequency (ie a 3ghz becomes split in two) but better multi-tasking (more threads) and using full cores (no hyper-threading) is better for high CPU usage tasks (ie games).

Hope this helps you.



Dec 11, 2016

Linux convert pdf to png
pdftoppm -png Trigger_Flowchart.pdf Trigger_Flowchart

rucio list-dids mc15_13TeV:mc15_13TeV*341577*EVNT*

rucio download mc15_13TeV:mc15_13TeV.341577.PowhegPy8EG_AZNLOCTEQ6L1_WplusenuH_H125_a20a20_bbbb.evgen.EVNT.e4118


Dec 13, 2016

root [5] .ls

root [5] CollectionTree->Print()

root [5] CollectionTree->Print("*Truth*")



Dec 14, 16

Slurm's srun command will interactively request a batch job, returning a compute-node name as a prompt, usually scheduled within a short period of time. Issue the srun command only from a login node. Command syntax is:

srun --pty -A projectnumber -p queue -t hh:mm:ss -n tasks -N nodes /bin/bash -l


Pixel hits container:
pixel cluster -- maybe
then problem: what content are in that container?
How do I find the right container 



list all directories under current directory
ls -d */



antikt4emtopo ghost
which jet is b-jet energy

translation from eta-phi module ID to eta-phi physics ID


root [7] CollectionTree->Scan("PixelClustersAuxDyn.layer")


1. b-hadron pT cut
2. deltaR = 0.4  find the directions covering the pixel module
3. all the hits in the modules eta-phi -> physics eta-phi

starting from
 Skeleton for analyzing Tracking DxAOD 

root [2] CollectionTree->Scan("PixelClustersAuxDyn.bec")



Dec 15, 16

ROOT installation
1. Download and unpack the ROOT's sources from the download area or using directly the Git repository. Follow the instructions for getting the ROOT sources
2. To use the location independent installation requires to set environment variables PATH and LD_LIBRARY_PATH. This is done by sourcing the script (depending on the shell family) source bin/thisroot.sh. While to use the fix location installation you do not need to set any environment to run root.

Switch to next workspace:
Ctrl+Alt+ Down

Send windown to next workspace:
Shift+Ctrl+Alt + Down

Output the standard output and standard error to the file
runPixelClusterAnalysis submitDir > output.txt 2>&1
			standard output -> file standard error -> standard outp

tsos-> track state of surface
msos-> mearsurement state of surface

[pewang@lxplus135 Btagging_without_tracking]$ runPixelClusterAnalysis submitDir > output_1event.txt 2>&1

emacs switch back to read-only mode
M-x read-only-mode

Hi everyone, totally unrelated to this talk, but I've just produced some derivations that have all of the ID information (including pixels, SCT hits, etc.) for boosted W's and Z's.  In particular, Z decays to bb about 50% of the time so if you want some high pT b-hadrons, some of them should be in there...

Here are the files: /eos/atlas/user/b/bnachman/public/HFSF16/IDTIDE_BoostedW_Wprime5TeV/ (20k events)

show versions of the availible software versions:
# showVersions

show the availalbe ROOTCORE versions
# ls $ROOTCOREDIR/../../

Never use the rootcore verison with X.X.0
Never use the something with XXXwindowsXXX

[pewang@lxplus135 Btagging_without_tracking]$ rcsetup Base,2.4.24

xAODTracking-00-13-31

svn co $SVNPERF/CombPerf/Tracking/xAOD/TrackAnalysis/tags/xAODTracking-00-13-31 ./TrackAnalysis

You can use C-x k to kill current buffer. See Emacs Manual .


rc build 
= rc find-packages
= rc compile


The source files of sample handler and Eventloop
grep -i optmax $ROOTCOREDIR/../EventLoop/*


Dec 16th, 16
Problem: how to find the b hadron?
how do you know it is a b before we even tag it ?



Dec 26th , 16
pdg ID 5 -> b


//If you don't about the track properties at all you can loop over the \
the pixel clusters    


adding pixel barrel layer counter
how to access to bec layer



Dec. 27th, 16

Pixels	   1 removable barrel layer 0.2 Rφ = 12, z = 66 16 ±2.5
	   2 barrel layers 1.4 Rφ = 12, z = 66 81 ±1.7
	   4 end-cap disks
	   on each side 0.7 Rφ = 12, R = 77 43 1.7-2.5

Jan. 24th, 17
FLIC:
  bytes+=flictalk->singlewrite(FLIC::targetNone,FLIC::cmdRead,0x0,data,0);
  n = write(sfd,&tx,txLength);
  n = recv(sockfd,&rx,sizeof rx, 0);

Jan. 25th, 17
under ~/.ssh
touch authorized_keys

cat ~/.ssh/id_rsa.pub

ustb14:
== U4 Eth2 ==
Source MAC   02:41:4e:4c:01:42
Source IP    192.168.2.2
Source Port  50000
Dest MAC     00:30:64:0a:ec:ca
Dest IP      192.168.2.1
Dest Port    50000

ustb10:
eth7      Link encap:Ethernet  HWaddr 00:30:64:0A:EC:CB  
          inet addr:192.168.2.1  Bcast:192.168.2.255  Mask:255.255.255.0


Jan. 26th, 17
each register can store 16 bits and for "abcd", each character has 4 bits


Jan. 27th, 17
running wireshark on ustb10
xauth extract - `xauth list |tail -1|sed 's?MIT-MAG.*$??'`|sudo /usr/bin/xauth merge -
sudo /usr/bin/wireshark -i eth6


Jan. 30th, 17
fatal: Authentication failed for 'https://:pewang@gitlab.cern.ch:8443/pewang/FLICControl.git/'

What I did to solve it:
1) create README.md on gitlab.cern.ch web
2) pull it to the local using ssh (make sure the ssh key is deployed on your local computer)


If you run flic_udp or ping_flic to send a message from the blade (ustb10, 192.168.2.1) to the flic (192.168.2.2)

1  0.000000000	  192.168.2.1 192.168.2.2    UDP 56  Source port: 43588  Destination port: 50000
2  0.000075304	  192.168.2.2 192.168.2.1    UDP 60  Source port: 50000  Destination port: 50000
3  4.999727244	  AdlinkTe_0a:ec:cb	     Microchi_b1:07:aa	  ARP	 42	     Who has 192.168.2.2?  Tell 192.168.2.1
4  4.999807538	  Microchi_b1:07:aa	     AdlinkTe_0a:ec:cb	  ARP	 60	     192.168.2.2 is at 00:04:a3:b1:07:aa



Jan 31th, 17
How to install sdcv (dictionary):
download sdcv rpm package 
install it using Centos rpm

The location where the dictionaries should be put is at “man sdcv”


RPM package management – how to remove an installed package 
rpm -qa | grep -i webmin
You should then find the exact package name. Then run
rpm -e <package name>
to uninstall it. 


Display or list all directories in Unix
Type the following command:
$ ls -l | grep `^d'
ls -l | egrep `^d'
Or better try the following ls command only to list directories for the current directory:
$ ls -d */


How to install sdcv on linux:
We all need to look for word definition. Online dictionaries and wikipedia are great but we are not always connected to the net. sdcv is a console version of StarDict dictionary. Using sdcv you can search for definitions while still offline. So here are the step to install and make use of this great program.
Step 1. Installation
On Ubuntu
Open Up terminal and type:
$ sudo apt-get install sdcv
On CentOs 7
http://dushistov.github.io/sdcv/ ->Download package, latest version recommended, The follow the README file to use Cmake to install the software.
On Fedora
$ su -c “yum install sdcv”
On Mac OS X
Mac OS comes with a great GUI based dictionary, but cli enthusiasts will enjoy sdcv.
Please install Macports and then open Finder, Go to Application Folder > Utilities Folder and launch terminal and type
$sudo port install sdcv
Step 2. Download Dictionary Files
Now that we have installed sdcv, we need to download dictionary files from the net. 
http://download.huzheng.org/
Step 3. Install downloaded Dictionary Files
Now that you have downloaded the dictionary files we need to put them in the folder where sdcv looks for dictionary files when invoked.
On Linux based systems do the following
$sudo mkdir /usr/share/stardict/dic/
$sudo tar -xvjf downloaded.tar.bz2 -C /usr/share/stardict/dic or
$sudo tar -xvzf downlaoded.tar.gz -C /usr/share/stardict/dic
Note: Make sure the user who will be invoking the sdcv command has read and execute permissions on /usr/share/stardict/dic/ and its subfolders.
On Mac OS X
$mkdir -p $HOME/.stardict/dic
$sudo tar -xvjf downloaded.tar.bz2 -C $HOME/.stardict/dic
Note: Unfortunately you need to repeat this process for every user that needs access to these dictionary files.
Step 4. Enjoy sdcv
Searching for definition
$ sdcv Linux                         (looks for linux in the dictionary.)
$ sdcv                                  (invoes sdcv in the interactive mode, press Control-D to quit).
In earlier article we covered how to use espeak, now you can combine sdcv and espeak together. Sdcv to look for definition and espeak for pronunciation.
$ sdcv Linux && espeak Linux
Here is a picture.

Note: Sometimes due to the long definition of a particular word text scrolls down too fast for you to read, advanced users can set SDCV_PAGER environment variable to /usr/bin/less. Now, less will be used to display to the dictionary’s article. You may consider adding this to your .bashrc file. Check out manpage for sdcv for more information.

Feb 9st, 17
O
LibreO	ffice: jump to the end of the file – short cut:
Ctrl + End

Git branch:
$ git branch iss53
$ git checkout iss53
$ git commit -a -m 'added a new footer [issue 53]'
$ git checkout master
Switched to branch 'master'
$ git branch -vv
$ git push oirgin iss53


linux check hard drive storage:
df -h <directory>


Feb. 10th, 2017
Firefox open new tab shortcut:
Ctrl + t(tab)

Close a tab:
Ctrl+ w
htons function in socket programming:
htons is host-to-network short


Feb. 13th, 2017
Linux check distribution:
$ cat /etc/*-release

Feb. 15th, 2017
Git pull branches:
git pull origin treeDevelopment 


Feb. 17th, 2017

Emacs indent with comment:
    After typing /*, hit M-j, the default binding for indent-new-comment-line (and the default binding for c-indent-new-comment-line in c-mode). If it is the first comment line the closing closing characters */ will be auto-inserted.
    Hitting M-j more times with insert more comment lines with the * prefix. This is the in-built behavior of c-indent-new-comment-line/indent-new-comment-line functions. Check out the Multiple lines of comments documentation.
    An extra nugget in the below code ensures that there is at least one space between the * on each comment line and the comment.


//***************Bashscript -- passing argument: *********************/
$> cat ./deploymLog.sh 
#!/bin/bash

name=$1
log_file="Logone.txt"

if [[ -n "$name" ]]; then
    echo "$1=$( date +%s )" >> ${log_file}
else
    echo "argument error"
fi

First argument from a command line could be founded with $1. date +%s returns current timestamp in unix time. >> is an operator to append writing to file.

$> ./deploymLog.sh tt

$> cat Logone.txt 
tt=1329810941

$> ./deploymLog.sh rr

$> cat Logone.txt 
tt=1329810941
rr=1329810953

For more readable timestamp you could play with date arguments.
// ***********************End of Bashscript -- passing argument: *********************/


Emacs adding comment to the beginning of each line:
M-x replace-regexp
then type ^ (which meaning the beginning of each line)
then type # or // (which are the comment character)

M-x replace-regexp
then type $ (which meaning the end of each line)
then type XXX (which are the comment character)


You could use replace-regexp for this purpose, with the $ regexp metacharacter that matches end-of-line. Go to the start of the buffer, and then do M-x replace-regexp, and answer $ and (your text) to the two prompts.

Or, in emacs-speak, for your specific example of adding a:

M-< M-x replace-regexp RET $ RET a RET


Feb. 20th, 2017
When SSB_XOFF is 1, it means that SSB is not sending data to FLIC.

           XOFF       CHANNEL0       CHANNEL1       CHANNEL2       CHANNEL3
       SSB_XOFF              1              1              1              1
       SFP_FIFO              0              0              0              0
     CCMUX_FIFO              0              0              0              0
      SRAM_FIFO              0              0              0              0
     MERGE_FIFO              0              0              0              0
       RTM_FIFO              0              0              0              0
0
           XOFF       CHANNEL0       CHANNEL1       CHANNEL2       CHANNEL3
       SSB_XOFF              1              1              1              1
       SFP_FIFO              0              0              0              0
     CCMUX_FIFO              0              0              0              0
      SRAM_FIFO              0              0              0              0
     MERGE_FIFO              0              0              0              0
       RTM_FIFO              0              0              0              0
0

Reprograme the FPGAs should be able to make it work. The default value is 1. 


Feb. 21th, 2017

How to remove all .svn directories from my application directories

Try this:
find . -name .svn -exec rm -rf '{}' \;
Before running a command like that, I often like to run this first:
find . -name .svn -exec ls '{}' \;


Git How to check out a remote Git branch?:
With Git versions ≥ 1.6.6, you can just do:

git fetch
git checkout test

Feb. 22th, 2017

How do you merge two Git repositories?

If you have two projects, proj1 and proj2 and want to merge changes of proj1 into proj2, you would do it like this:

# in proj2:
git remote add proj1 path/to/proj1
git fetch proj1
git merge proj1/master # or whichever branch you want to merge

-------additional answer------
If you want to merge project-a into project-b:

cd path/to/project-b
git remote add project-a path/to/project-a
git fetch project-a
git merge --allow-unrelated-histories project-a/master # or whichever branch you want to merge
git remote remove project-a

This method worked pretty well for me, it's shorter and in my opinion a lot cleaner.

Note: The --allow-unrelated-histories parameter only exists since git >= 2.9.
----------end of additional answer--------


Feb. 23th, 2017
FlIC Test vector generating:
1. download the scripts
$ svn checkout svn+ssh://pewang@svn.cern.ch/reps/atlasoff/Trigger/TrigFTK/TrigFTKSimTools/trunk



Feb. 27th, 2017
FLIC test vecor generating:


Mar. 3rd, 2017

[peilong@charon flic]$ ls ~/Project/FLICControl_svn/trunk/flic/
firmware  flic_comm.h  FLICController.h  FLIC.h  FLIC_Mon_App.h  FlicMonitoringFIFO.h  FLICSetupTool.h  LUTs  ReadoutModuleFlic.h  StandaloneTools.h

[peilong@charon flic]$ ls ~/Project/FLICControl_svn/trunk/src/
flic_comm.cxx  FLICController.cxx  FLIC_Mon_App.cxx  FlicMonitoringFIFO.cxx  GTX116_REFCLK[i]  ReadoutModuleFlic.cxx


C linux header file location:
The system headers are in /usr/include and the headers for user-installed packages are in /usr/local/include.


Mar 4th, 2017
svn add all changes:
svn add --force . will add all the files and directories below your current working directory that aren't added yet (and aren't ignored) to your working copy.

A svn ci -m "" will then handle the commit.


Mar 6th, 2017
ReadoutModule_blade -> raw data to EMON
ReadoutModule_FLIC -> monitoring fifo -> EMON

ReadoutModule_blade/FLIC -> histograms -> OH
			 -> monitoring numbers -> IS

publish function inside ReadoutModule publish to EMON, OH and IS every 10 seconds.


DijetResonanceAlgo:
since the xAODAnaHelper is taking the default set-up, there is no need to change the config file now. So I can modify the ResonanceAlgorithm.cxx first 


Mar 7th, 2017
The further JTAG connector on FLIC monitors FPGA1
The closer JTAG connector on FLIC minitors management FPGA


Mar 10th, 2017
ResonanceAlgoithm.cxx : m_eventDetailStr ?   miniTree->AddEvent( m_eventDetailStr );
##%%%%%%%%%%%%%%%%%%%%%%%%%% DijetResonanceAlgo %%%%%%%%%%%%%%%%%%%%%%%%%%#                                                                       
    "m_eventDetailStr"            :   "truth pileup shapeEM",


ResonanceAlgoithm.cxx : m_MET_testStr ? miniTree->AddMET(m_MET_testStr);

working point -> cuts



Mar 20th, 2017 Monday
C-a emacs: move to the home of the line
C-e emacs: move to the end of the line

emacs macro:
to start: type C-x (
then type the command you'd like to repeat
to end: type C-x )

to do the macro: type C-x e e e e 




Mar 21th, 2017 Tuesday
/usr/include/sys/types.h

recvfrom returns the number of words received.


Mar 29th, 2017 Wednesday
Creat soft link to work space:
ln -s /home/peilong/Project/FLICControl_svn/trunk/standalone/FLICMonitoringSoftware ./link_to_work

-s means to make a symbolic link. To update a link, either delete the link and create it as above, or use the -f option to ln as well. If you are linking to a folder, also include the -n option:

ln -sfn /a/new/path files


emacs ShowParenMode
M-x show-paren-mode RET


Apr 2nd, 2017 Sunday
how to insert a check mark in Libreoffice
http://guide2office.com/1418/how-to-add-a-tick-symbol-%E2%9C%93-to-writer-documents-libreoffice-openoffice/


Apr. 17th, 2017 Monday
cp one file to multi files:
   cp file1 file2 ; cp file1 file3
   or
   for file in file2 file3 ; do cp file1 "$file" ; done
   or, for a slightly looser sense of "copy":
   tee <file1 file2 file3 >/dev/null


Apr. 20th, 2017 Thursday
import os

for filename in os.listdir("."):
    if filename.startswith("StatusUpdate"):
        os.rename(filename, "status-update_" + filename[12:])



May 5th, 2017 Friday

This will show all directories in /home that contain more than 1000MB. If your version of du doesn't support -m, you can use du -sk and adjust the awk bit to look for more than 1,000,000KB instead...

cd /home
du -sm * | awk '$1 > 1000'


May 9th, 2017
Emacs org mode
      how to add new line:
      	  type "|" then type "Tab"
      how to calculate formular:
      	  type "C-c C-c"

Emacs show line nubmer:
M-x linum-mode (or global-linum-mode), and put (global-linum-mode t) in your ~/.emacs (or ~/.emacs.d/init.el) to enable it at startup.

Emacs how to exit shell-mode:
      type "exit"



May 10th, 2017
Dijetlepton MET:
metFinalClus is reconstructed from cluster
metFinalTrk is reconstructed only from tracks

metSoftTrk is MET reconstructed from tracks like neutrino + tracks undetected

src/Loop.cxx Line 550
run A_RUN_ALL_SIGNAL_test
output file in inputs file *.log


June 6th, 2017
Two directories, same file list, compare all the file in both directories:
diff -bur folder1/ folder2/
This will output a recursive diff that ignore spaces, with a unified context:

    b flag means ignoring whitespace
    u flag means a unified context (3 lines before and after)
    r flag means recursive


June 7th, 2017
U3/U4 ETH setup for Blade in step "4 Setup Proc board":

== U3 Eth1 ==
Source MAC   00:04:a3:b1:07:aa
Source IP    192.168.2.2
Source Port  50000
Dest MAC     00:30:64:0a:ec:cb
Dest IP      192.168.2.1
Dest Port    50001

get U1 -> U3 channel 2, 3, 4 work:
2
3
4
5
6
7
225
11
write 1101 to 6a on U3
76
76
write 110f to 6a on U3
77
sent 2 tracks per data, interval 2000 to blade


June 30th, 2017

$T \cdot m$
This should be used in the notes.
To get upright Roman text in math mode: $\mathrm{pb}$: $\ifb$

Latex:
If it is already in the the math mode, like inside \begin{equation*}, then there is no need to type $ \formular $. Otherwise, there will be error.


July 11th, 2017
git commit -m ""
git commit --amend; then type "enter"
to add bullet in the commit, type "-"


August 9th, 2017

Clone the repository as normal:

git clone git://github.com/rspec/rspec-tmbundle.git RSpec.tmbundle

Then checkout the tag you want like so:

git checkout tags/1.1.4

This will checkout out the tag in a 'detached HEAD' state. In this state, "you can look around, make experimental changes and commit them, and [discard those commits] without impacting any branches by performing another checkout".

To retain any changes made, move them to a new branch:

git checkout -b 1.1.4-jspooner


August 22, 2017

EVNT-> AOD -> DAOD
by asking an official request and being produced centrally by ATLAS

EVNT->HITS->AOD->DAOD
by using Athena

mc15_13TeV.410501.PowhegPythia8EvtGen_A14_ttbar_hdamp258p75_nonallhad.merge.DAOD_HIGG5D1.e5458_s2726_r7772_r7676_p2949

410501	


August 24, 2017
/users/peilongw/Project/MCFilterRun/RootCoreBin/data/FrameworkSub/yields.1lep.13TeV_mc15c.txt

410501		1		1		1		PwPyEG_A14_ttbar_hdamp172p5_nonallhad


~/Project/MCFilterRun/FrameworkSub/data/XSections_13TeV.txt
# added by Peilong for test
410501   831.76             1.0            0.5            ttbar_flavtag            PowhegPythia8EvtGen_A14_ttbar_hdamp172p5_nonallhad


August 25, 2017
sbatch -a 1-N ./launch_slurm_array.py  

sbatch -a 1-5 ./send2_sim_s2726.py

sbatch -a 1-2000 ../send4_re_s2726.py


August 29 2017

2 or 3 jobs for sim
1-2000 X 1
1865-2000  X 1 or 2 (the later one)

17734748_85 parallel-  for reco jobs

git restore a file:
under the git local major repo:
git checkout 01494bf961474fa7472dc7db8c2730f6949f9f77 Derivation/setup.sh

git log 
can help you find the file

Steve vidyo room: https://vidyoportal.cern.ch/join/CsyejuDMVYmi



August 30 2017

here are the instructions I had from Amit some time ago
Sent on:

Mon
From:
francesco

If you want a directory under your home directory to be readable by others then you need to ensure that every parent directory in the path leading up to your public directory has executable persmission 

So if you look at your home directory now, this is how it looks:

[root@mfadmin01 home]# ls -ld flosterzo
drwx------ 9 flosterzo physics 4096 Jul  3 08:08 flosterzo

drwx------ here is how you have to read it
|___first character "d" here indicates this is a directory

Then there are 3 groups of 3 characters: {group 1 is for Owner, that is youself} followed by the {group 2 is for the groups you are associated with} followed by {group 3 is for world, that all other users}

Above you see that for group1: permissions are set to "rwx" (r means read access, w means write access, x means execute access)
For group2: permissions are set to "---" (3 dashes)
For group3: permissions are set to "---" (3 dashes)

Hence you have to make sure users have the ability to execute commands like cd on your home directory, hence be able to get to the public directory. 
Here is what I did:
[root@mfadmin01 home]# chmod 711 flosterzo
[root@mfadmin01 home]# ls -ld  flosterzo
drwx--x--x 9 flosterzo physics 4096 Jul  3 08:08 flosterzo

Hope this fixes it.

Thank you,
Amit
From:
francesco


Sep 1. 2017

sbatch -a 1-200 ./send4_reco_r7772_medium-mem-1-m.py
201667
sbatch -a 201-400 send4_reco_r7772_medium-mem-1-s.py
202645 good
sbatch -a 401-600 ./send4_reco_r7772_medium-mem-1-l.py
201674
sbatch -a 601-800 ./send4_reco_r7772_medium-mem-1-s.py
203356 fails
sbatch -a 801-899 ./send4_reco_r7772_medium-mem-2.py
202338
sbatch -a 900-1200 ./send4_reco_r7772_medium-mem-1-s.py
20284 100 jobs left
sbatch -a 1201-1400 ./send4_reco_r7772_high-mem-1.py
201686
sbatch -a 1401-1600 ./send4_reco_r7772_medium-mem-1-s.py
203147 100 jobs left
sbatch -a 1601-1850 ./send4_reco_r7772_high-mem-2.py
201694
sbatch -a 1851-2000 ./send4_reco_r7772_medium-mem-1-s.py
203560 ~100 jobs left


./send4_reco_r7772_htc.py


scancel 201681_[877-1200]

Sep. 3 2017

1851-2000 medium-1-m

1401-1600 medium-mem-1-l.py 
Submitted batch job 204229

900-1200 high-mem-2.py
Submitted batch job 204234

601-800 high-\
mem-1.py 
Submitted batch job 204242


201-400 mediu\
m-mem-2.py 
Submitted batch job 204249


Sep. 14th 2017
ll ./*
recursively list all the files under the directory 

ATLAS - Run Control & Trigger shift test:
- You are asked which HLT items contribute to the CosmicCalo stream. Where do you look up this information?
  trigger tool
- What information is given in a Bunch Group Key?
  Bunch informaiton that may be used in trigger
- The luminosity has dropped to a point that requires a prescale key change.
  Ask run control to change the prescale key

Vidyo room connection guide:
1. Display button on
2. LCD2 button on
3. Video conf on
4. go to indico page
5. click the Video sign buttong instead of the "join" button
6. adjust the volume if needed.
7. wait until the scheduled time for booked conference room

trigger for VHbb 1-lepton;
lepton -> lepton trigger
bb     -> Muon + MET trigger

CxAODReader:
1. trunk version, not sure to work
2. turn on the debugging from the framework-readCxAOD.cfg to set debug=true, and then you get more printout statements. 
   - we can run on CxAOD official sample, where is the official sample?
   - a test see whether Reader works


Sep. 15 2017
list size of a file:
ll -h DAOD_HIGG5D2.test_1k_142.pool.root


Sep. 17 2017

Duties of Run Control Shifter:
1. Prepare for a run
   - change configuration - enable/disable segments: Run control GUI -> "Segments and Resources" panel -> Right button (changes are only in the NON state in the FSM.
   - change trigger keys: Run control GUI -> Trigger -> Click "Change" under 
   - Reload Configuration: Run control GUI -> Trigger -> Change "Trigger menu" -> Click "Commit & Reload"
   
   - "Stand by", "Physics", "Bunch Group Key" can be changed on the fly
   - "Bunch Group Key" is requested by the trigger shifter to change
2. Start a run, follow the FSM, reach Running state
   - click "INITIALIZE", "CONFIG", "START", "STOP", "UNCONFIG", "SHUTDOWN" in sequential
   - check run parameters before starting the run
   - mandatory checks before starting
     1) Run type - usually Physics
     2) Beam type - protons, ions
     3) Recording - if set to Disabled no data will be recorded
     4) Tier0 Project Name - crucial for data reconstruction at T0
3. During a run: monitor the data flow, message, BUSY state, L1, HLT and recording rates
   - put the data flow into the TXT file opened on the desktop, there are templates for naming the file and how to write status into the file
   - Busy, no more than 5%
   - When the beam goes from injection to stable and the ATLAS detector goes from "stand-by" to "physics", there are several things to check
     1) On reaching stable beams, check that:
     	Pixel HV ramps and Pixel pre-amps turn on (automatic)
	Pixel READY in DCS -> Automatic warm-start (physics mode)
     2) After warm-start
     	Check IGUI is in PHYSICS mode
	Check muons and SCT get to READY as well

4. Monitor stopless removal and recovery actions

5. Monitor the infrastructure of few partitions: OLC, initialL1CT, PixelInfr

6. Keep run ongoing; react on error message and try to minimize dead time

7. Record your actions into the logbook during the shift: insert a shift summary at the end and insert an entry each time you have a problem for faster feedback

Use the shift summary template: CRD -> TDAQ menu-> RC ShiftSummaryTemplate


logout of the tools.



8. First thing to do after starting the shift:
   1) Open elog, login to Shift Assistant 
   



Sep. 18, 2017
Difference between "source *.sh" and "bash *.sh":
When you call source (or its alias .), you insert the script in the current bash process. So you could read variables set by the script.

When you call sh, you initiate a fork (sub-process) that runs a new session of /bin/sh, which is usually a symbolic link to bash. In this case, environment variables set by the sub-script would be dropped when the sub-script finishes.



FrameworkExe:
	modified:   data/framework-read.cfg
	modified:   data/framework-run.cfg
FrameworkSub:
	modified:   data/XSections_13TeV.txt
	# added by Peilong for test
	410501   831.76             1.0            0.5            ttbar_flavtag            PowhegPythia8EvtGen_A14_ttbar_hdamp172p5_nonallhad
	
	modified:   data/yields.1lep.13TeV_mc15c.txt
	# added by Peilong
	410501          1               1               1               PwPyEG_A14_ttbar_hdamp172p5_nonallhad



VHbb analysis:
     require at least 2taged b-jet to reduce the background
     1-lepton channel, 2tag2jet + 2tag3jet = Signal region
     


Sep. 19, 2017
ask sub-group convener what version is used for the paper



Sep. 20, 2017
Post-install: setting PATH - Texlive
PATH=/usr/local/texlive/2017/bin/x86_64-linux:$PATH
Where to put it

Note that ~/.bash_rc is not read by any program, and ~/.bashrc is the configuration file of interactive instances of bash. You should not define environment variables in ~/.bashrc. The right place to define environment variables such as PATH is ~/.profile (or ~/.bash_profile if you don't care about shells other than bash). See What's the difference between them and which one should I use?
https://superuser.com/questions/183870/difference-between-bashrc-and-bash-profile/183980#183980

boxes whale
default whale

Status update draft:
       MC Filter
       	  1. Status
	  2. Problem met
	  3. Next
       FLIC Monitoring Software
	  1. Status
	  2. Problem met
	  3. Next
       Other activity
       	  ACR shift

Convert png to eps
convert MC_filter_two_legs.png eps3:MC_filter_two_legs.eps

What is AMB checksum?
How is the bank loaded? OKS? loadModule=0,1?
FTK loadmode?


Run control shift
Enable Pixel in "Segments and Resources"
Then click "Commit & Reload"
Check "run information & settings"
Click "Initialize"


As Run Control shifter you will be asked to acknowledge the stop-less removal procedure (pop-up window appearing) Read the message carefully and ASK the Shift Leader to decide what action to take in collaboration with the relevant detector shifter!


Sep. 22, 2017
Slides for meeting with Steve:
       Brief summary of work done
       Problem met:
       Next Step
       Activity coming up

LS2 and LS3 -> hardware upgrade project
    	       ATLAS mostly readout system
	       CMS detector

That's a plan for 10 years.

Long Shutdown, how to survive


Get the event list first -> 

Get the people to see the result and discuss the result.

Physics first

Software second

How to do fast simulation?

no body... yes or no?

The group is using to generate ttbar

Event number list ->

ptv cut 150ptv may get lower after several month, set some buffer region.

Open lab/Intel TBB

Graduation the end of next year


Sep. 25, 2017
Fast simulation: Preshower

go through FTK twiki from Carlo

twiki, how to run the partition

Lab4 computer, run FTK partition

[pewang@lxplus036 ~]$ ssh pewang@pc-tbed-pub.cern.ch
[pewang@pc-tbed-pub-01 ~]$ source /afs/cern.ch/user/f/ftk/bin/setup_ftk.sh FTK-02-00-07

stable data flow prescale -> on cal report Sep. 25 2017



Sep. 26, 2017

Production script
CxAODReader_VHbb version ->  tag on Readme / no instruction on readme
CxAODMaker version -> same
Failed jobs -> update the list

Slides this afternoon.

in slides - lxplus / maneframe

slides to share to Hbb meeting

2t2j: event number
2t3j: event number

WhfSR

1tag2jet -> maybe used in control region / check internal note

script for making new slides 

Beamer itemize/ subitemize:

\documentclass{beamer}
\begin{document}
\begin{frame}
\begin{itemize}[<+->]
\item ONE
    \begin{itemize}[<.->]
     \item B
     \item C
     \end{itemize}
\item two
\end{itemize}
\end{frame}
\end{document}


beamer right arrow
\begin{itemize}
    \item This $\rightarrow$ that
\end{itemize}


afs avaible
eos not availabe


printf "\n### kinit ${SITE_USER}@CERN.CH\n" kinit ${SITE_USER}@CERN.CH printf "\n### aklog -c cern.ch -k CERN.CH\n" aklog -c cern.ch -k CERN.CH printf "\n### klist\n" klist

kerberal
token


ask for official production

TRUTH1 available?
EVNT, CxAOD available

EVNT not change with release r21 or 20.7
     change with generator

release 21 affects hits->aod->daod->cxaod

vhbb peilong thesis

steve -> framework


UX15 open to visit:
Jan 8 - Feb 28

Subscribe for General Fitness Classes:

    Come to a FREE trial class (in bdg 216) to ensure you enjoy the activity at the times indicated here.
    Decide how many classes/week and which days you want to come to general fitness classes
    Early Bird - every morning
    HIIT - Monday, Tuesday, Wednesday lunchtimes & Thursday evenings
    Zumba - Wednesday & Thursday evenings, Friday  lunchtime
    and complete the following on-line form.
    Check the price for the number of classes you wish to do/week on the Prices page and transfer your funds to the Fitness Club bank account:
    Account: 279-287931.01J
    IBAN: CH33 0027 9279 2879 3101 J
    BIC UBSWCHZH80A 
    Send Fitness.club@cern.ch an email to confirm.
    Sign up to the mailing list (General Fitness) or  HIIT mailing list


Sep 27, 2017

OKS
FTKMaker
isloadmode

FTK on-call twiki Tova's software

Everything update on FLIC monitoring software will be at https://gitlab.cern.ch/ATLAS-FTK-FLIC/flic/tree/develop

Ask Michael whether unicast works or not in front panel
Update the communication firmware on both front panel and back panel

FLIC monitoring:
     0. merge flic repo development to svn repo master
     1. move from unicast to broad cast (backplane)
     2. test at Argonne

Why pTV region is split into to regions 150-200 and 200+?
orthogonal 
- why do you split 1-lep channel from 0 lep channel? same reason
75-150: Signal/Background = 20/100
150-infinity: Signal/Background = 5/10
75-infinity: 25/110

sqrt( ( 20/sqrt(100) )^2 + ( 5/sqrt(10) )^2 ) > 25/sqrt(110)

What is tao veto?

Release 21: for Athena
AnalysisBase: a collection of ATLAS software tag

CxAODFramework now 
1. Update CP tools to release 21 with release 21 - AOD
2. Update CxAODFramework structure to a more easily-use one

$ svn delete myfile
D         myfile

$ svn commit -m "Deleted file 'myfile'."
Deleting       myfile
Transmitting file data .
Committed revision 14.


LHC bunches: 8 filled and 4 empty
when the particle is not in the center of the pipeline, it has an image charge traveling which generates a magnetic field. The magnetic field affects the next particle.

Remember to be polite when asking and answering questions.


Sep. 28, 2017

ftkcommon: compiling, get it working

CMake Package development:
      1. Create a working directory and a CMakeLists.txt file: it specifies the tdaq and ftk releases
      	 shell> cat CMakeLists.txt 
	 cmake_minimum_required(VERSION 3.6.0)
	 find_package(TDAQ)
	 include(CTest)
	 set(TDAQ_DB_PROJECT ftk)
	 tdaq_work_area(FTK x.y.z)
	 Example: x.y.z for release FTK-02-00-02 are 2.0.2

      2. source the cmake configuration script for the given tdaq release 
      	 source /afs/cern.ch/user/f/ftk/bin/setup_ftk.sh [ftk-release] 

      3. Check out a package 
      	 /afs/cern.ch/user/f/ftk/bin/getpkg.svn FTK/flic

      4. Modify, compile and test the code 
      	 shell> cd working_directory
	 shell> cmake_config
	 shell> cd x86_64-slc6-gcc62-opt
	 shell> gmake install  

	 or 
	 make (-j 8)
	 make install

      4-half. Adding the local PATH (where the executalbe is) to PATH
      	 export PATH=${PWD}/installed/x86_64-slc6-gcc62-opt/bin:$PATH

      5. Commit the changes in svn and add new svn tag whenever appropriate (~always) 
      	 svn ls $SVNROOT/FTK/ambslp/tags | tail
	 /afs/cern.ch/user/a/anegri/public/_l/svntag  FTK/ambslp ambslp-00-00-03 "Set tag ambslp-00-00-03"
      
FLIC connection with USTB17 failed reason:
     1. computere is sending package but flic doesn't reply
     	reason: wrong IP address for flic in flicscope, flic IP is in the right subnet but it has the IP not same with the one in flicscope
     2. computer sends packet to flic and flic replys but not received by flicscope
     	reason: iptable problem. The firewall has to be enabled to support 
     
prescale sedo data two ways
Run FTK partition at Lab4
ftk_solo -> FTK on call twiki

purose: check how many bugs we have in this release.

checksum on SBC AMB then writing
force writing 

FLIC syncrayzation with SSB, how?

be honest with answer:
following the marching order
if they ask why not test at P1, honest ask, required to work at Argonne fist before power on the blade.

attached the form for expense

sending me to Argonne is needed.

a few things to do in the truth level

b + b + l -> inverse missing ET

chat with Francesco about what variables 
variables for the filters

change electron handlere in the branch

CxAODMaker_Vhbb mimic the funcition

object handerler basis -> object handler -> electon handler (electon CP recommendation)
+ attached EventHypothesis: physics

reproduce physics 

CxAODTools: configuration

Analysis: properties triggers

CxAODMaker core package
+ CP = analysis


create electron handler and work on it
cut flow object in each handler

scale run 2 in Steve's slides

FLIC at Lab4 computer pc-tbed-ftk-01


Oct 3 2017

truth1 path

adrian -> object handler

CxAODMaker Tools Reader -> Framework 2.0

ww
wlwh -> 3/9 * 6/9
whwl 6/9 * 3/9 
wlwl 3/9 * 3/9

9 36 

reco level lepton spectrum
ask Francesco tau, lepton

jet
met

18 months of construction


print how many leptons we have in that four events and all the events in the SR region

maybe some flags in the CxAODReader can affect


FLIC monitoring software:
1. broadcast UDP in the backplane communication, flic_comm
2. blade software C block, reading from FLIC.h

FLIC control -> FLIC 


Oct 4 2017

The setup in the FLICControl -> works

Recommendation letter: Steve, Valerio, FTK someone (Jinglong or Jeremy)



Oct 5 2017
git go back to a commit
git checkout [revision] .
where [revision] is the commit hash (for example: 12345678901234567890123456789012345678ab).

Don't forget the . at the end, very important. This will apply changes to the whole tree. Then commit and you should be good.

on maneframe 2:
all package 28-00
replace framework-read-SMVH-1lep.cfg
replace CxAODReader_VHbb
MCFilter4 -> r28-00 -> Maker
MCFilter5 -> master -> Reader


CxAODrun_r_28_00/ on lxplus:
nothing changed bug framework-run.cfg



Oct 6 2017

CERN phone: call 0 first

/eos/atlas/unpledged/group-tokyo/users/yenari/20170214/HIGG5D2_13TeV/CxAOD_00-28-01/ttbar_PwPy8EG
r7772_p2949

FrameworkSub -> script production



Oct 9 2017

bqueues <name of the queue>
where <name of the queue> could be:
1nh - time limit 1 hour
8nh - time limit 8 hours
1nd - time limit 1 day
2nd - time limit 2 days



Oct 10 2017

1nh has higher priority

lxplus LSF user guide IBM
https://batchconf.web.cern.ch/batchconf/doc/lsf/print/lsf_users_guide.pdf

CERN OpenStack

How to set permission for a user on lxplus -> twiki bookmark
https://twiki.cern.ch/twiki/bin/view/Main/LxplusProblem#Change_the_right_of_AFS_director


Oct. 11 2017

Hbb meeting:

full derivation reprocessing at the end of Oct.

CMS rule, a public talk can not show the details not pubished in the paper

what's the difference between EVNT and TRUTH1?

EVNT not ATLAS friendly
TRUTH1 reformat the truth information into AOD container, which is ATLAS framework friendly.

XROOTD -> recommended
rsync -> not know

25 yeays


Oct 13, 2017

Meeting with Steve:
1. FLIC:
   flic_mon_standalone 
     1. receiving data (unicast UDP) works with CMake
     2. extracting parameter works with CMake
     3. making histograms: it compiles but "undefined reference to "
      	   CMakeFiles/flic_mon_standalone.dir/standalone/flic_mon_standalone.cxx.o: In function `main':
      	   /users/ac.peilongw/flic_cmake/flic/standalone/flic_mon_standalone.cxx:56: undefined reference to `TCanvas::TCanvas(char const*, char const*, int, int)'

        Reason: linking needs to know where the library is

        Example in FTK svn repo:
      	      LINK_LIBRARIES ROOT::Core
	      https://svnweb.cern.ch/trac/atlastdaq/browser/FTK/flic/trunk/CMakeLists.txt#L94

        To do:
       	   delete build and reconfig and recompile
           ask CMake experts
	   mkdir build for flic to compile      

2. MC Filter:
     1. double-checked on our CxAOD sample
     2. dumped list on official CxAOD
  	  number of event: 90246 -> 2t2j and 2t3j (13617558 in total in CxAOD)
   	  
3. EletronHandler (a couple of days later)
	Implemented cuts on the CxAODMaker eletronhandler

4. HFSF forum
   	estimate the cheapest flight

5. expense report from stony brook
   	0 + Per diem + train = ~$400
   	there is no per diem from Grant from Sep.4 - Sep. 11.
	
	overhead account (in the mattermost)


TDAQ is can not depend on offline release of ROOT. so that's why it hsa

the standard set of root libs is -lCore -lRIO -lNet -lHist -lGraf -lGraf3d -lGpad -lTree -lRint -lPostscript -lMatrix -lPhysics -lMathCore -lThread -lMultiProc

one can get it by running `root-config --libs`

[7:46:20 PM] MishaLisovyi: so the commond function to parse the SB and extract a list of fragments is here: https://svnweb.cern.ch/trac/atlastdaq/browser/FTK/ftkcommon/trunk/ftkcommon/EventFragmentFTKPacket.h#L93
[7:48:02 PM] MishaLisovyi: it returns a vector of objects of EventFragmentXXX type, that you hav to derive from EventFragment or in your case most likely from EventFragmentFTKPaket (https://svnweb.cern.ch/trac/atlastdaq/browser/FTK/ftkcommon/trunk/ftkcommon/EventFragmentFTKPacket.h)
[7:49:00 PM] MishaLisovyi: an example of usage is here: https://svnweb.cern.ch/trac/atlastdaq/browser/FTK/DataFormatter/trunk/src/ReadoutModuleDataFormatter.cxx#L1406
[7:59:34 PM] MishaLisovyi: there seem to be no ready function to parse the payload (the header and the trailer are parsed by EventfragmentFTKPacket). But one can copy functionality from https://svnweb.cern.ch/trac/atlastdaq/browser/FTK/ftkdqm/trunk/src/gnamFTKEventFragment.cxx#L36 strating from line 67 onwards


Oct 17 2017
flicscope_8x8
/users/ac.peilongw/flic_repo/FLICControlTesting/standalone/run

1. flic spybuffer control
2. load test vector
3. dump monitoring fifo

emacs: compare two files side by side, similar to vim's vimdiff?
Ediff works similarly: M-x ediff


Oct 18 2017

Please select an option (0 to Exit):
   1 Power On                      100 Power Off
 200 Power control from IPMC (not yet working at ANL)
==================================================================
 Basic initialization controls...
   2 Program All FPGAs               3 Idle Board
   4 Setup One Channel Proc.         5 Send sync word to SSB
 300 FLICWare setup
   6 Reset SSBe                     20 Send single event from SSBe on all channels
==================================================================
  77 Start SSBe data with new configuration
  78 Stop SSBe data but leave configuration unchanged
==================================================================
 Restart SSBe data on channel X using latest SSBe configuration...
  21 Channel 1                      22 Channel 2
  21 Channel 3                      22 Channel 4
  25 All Channels                   26 Use your own channel mask
==================================================================
   7 Read a register                 8 Write a register
   9 Download Firmware
==================================================================
  11 Pulse flow control to SSB      12 Reset S-Link
  13 Change Emulation Parameters
==================================================================
 Test Vector controls...
  70 Fill TV FIFOs, 4 channels      71 Send TVs from FIFOs, 4 channels
  72 Reset & arm flowcontrol FIFOs  73 Read flowcontrol FIFOs
  74 Reset & arm monitoring FIFOs   75 Read monitoring FIFOs
  76 Fancy TV test
==================================================================
 Lookup table controls...
  80 Write lookup table to FLASH    81 Read lookup table from FLASH to validate
  82 Write ALL SRAM data to FLASH   83 Read & Validate ALL SRAM data in FLASH
  84 Write lookup table to SRAM     85 Read lookup table from SRAM
  86 Write ALL SRAM data            87 Read & Validate ALL SRAM data
  88 Write U1 SRAM data
==================================================================
 Diagnostics...
  90 Init counters to COUNT MODE    91 Init counters to RATE MODE
  92 Dump counters
  93 Dump global status
  94 Dump SLINK status
 222 Check program status          223 Check U1 clock counters
 224 Check XOFF counters           225 Change to "dump data on the floor" mode
 226 Dump U3/U4 spybuffer IP settings
 227 Dump U3/U4 diagnostics
 228 Dump CURRENT_L1ID
==================================================================




Please select an option (0 to Exit):
   1 Power On ALL
 100 Power Off ALL
 200 Power control from IPMC (not yet working at ANL)
==================================================================
 Basic initialization controls...
   2 Program All FPGAs
   3 Setup SSBe board
   4 Setup Proc board
   5 Send sync event from SSBe board to Proc board
   6 Reset SSBe
   7 Setup Spy buffers for all events on all channels
==================================================================
   8 Read register on SSBe board   9 Write register on SSBe board
  10 Read register on Proc board  11 Write register on Proc board
==================================================================
  76 Send single event
  77 Start SSBe data
  78 Stop SSBe data
==================================================================
 Diagnostics...
  84 Reset and arm monitoring FIFOs
  85 Dump monitoring FIFOs on U1
  86 Dump monitoring FIFOs on U2
  87 Reset and arm flow control FIFOs
  88 Dump flow control FIFOs on U1
  89 Dump flow control FIFOs on U2
  90 Initialize counters
  91 Dump counters
  92 Dump global status
  93 Dump raw SLINK status
 222 Check program status
 223 Check clock counters
 224 Check XOFF counters
 225 Change to "dump data on the floor" mode
 226 Dump spybuffer IP configuration
==================================================================



Oct 19 2017

The working copy is revision BASE. The latest copy from the repository is revision HEAD. This will compare your working copy against the HEAD revision:

svn diff -r HEAD <file>

flicscope spybuffer -> 1 FLIC for testing

 Test Vector controls...
  70 Fill TV FIFOs, 4 channels -> works      71 Send TVs from FIFOs, 4 channels -> not working
  72 Reset & arm flowcontrol FIFOs  73 Read flowcontrol FIFOs
  74 Reset & arm monitoring FIFOs   75 Read monitoring FIFOs
  76 Fancy TV test


flic_udp_spybuffer -> two FLICs for testing -> sending -> works



Oct 20 2017
meeting with Steve

1. MC filter
   1. ptV reco level
   2. truth 
   3. present things you 85% confident
   4. have a draft presentation on Tuesday
   5. why the shape is like this
   6. what is this object - pTV
   
2. Framework development
   1. Analysis Base
      1. set handler -> handler
      2. initilize selection -> eventhypotheis
      3. Other 
      4. compiled
      5. 

tth analysis ATLAS seminar

11am CERN Tuesday


emacs save as: C-x C-w 



Oct 24 2017

only track parameter left for decoding check

0x69f5 <-- Track chi2



Oct 27 2017

Meeting with Steve:

1. FLIC:
   1. flic_mon_standalone:
	1) decoded track parameters
	2) able to loop the event received and find all the track record
	3) able to print out simple error message for debugging
	
2. MC filter:
   1. working on dump pTV, lepton flavor, lepton charge, etc. parameters at reco level
   2. using these variables to see which parameter affect the events in truth level falling in SR in reco level

3. Muon handler in Framework 2.0


Oct 27 2017

Meeting with Steve:

1. FLIC:
   1. flic_mon_standalone:
   1) decoded track parameters
   2) able to loop the event received and find all the track record
   3) able to print out simple error message for debugging
   
2. MC filter:
   1. working on dump pTV, lepton flavor, lepton charge, etc. parameters at reco level
   2. using these variables to see which parameter affect the events in truth level falling in SR in reco level

3. Muon handler in Framework 2.0



----

============start of an assembly header===========
Number of word following this word:          340
+++++++++++++start of a record header++++++++++++
Checksum:                                    passed
Mystery number:                              668
RunNumber:                                   305419896
ExtendedLevel1ID:                            4
Bunch Crossing ID:                           4
L1TriggerType:                               162
Detector Event Type:                         68
TIM:                                         8
+++++++++++++++end of a record header++++++++++++
--------------start of a track header------------
Link ID:                                     0
Sector Number :                              44
Tower Number:                                5
Track Fitter Number:                         0
Layermap[11:0] :                  
  11SCT 10SCT 09SCT 08SCT 07SCT 06SCT 05SCT 04SCT 03PIX 02PIX 01PIX 00IBL
      0     1     0     0     0     1     0     0     0     0     1     0
RoadID:                                      8704265
chi sq :                                     -0.011864
track d0:                                    4.152344
track z0:                                    -0.000131
track cotth:                                 0.000563
track phi:                                   0.010208
track curv:                                  3.226562
---------------end of a track header-------------
+++++++++++++start of a record trailer+++++++++++
Begin trailer debug block :                  e0da
Length of debug block | Indeterminate[3:0] : 0
End debug block :                            e0df
Length of debug block | Indeterminate[3:0] : 0
L1ID:                                        4
ErrorFlag :                                  -286335523
Module data word count (checksum):           329
End of fragment word:
                                             e0f0
                                             a5a5
                                             5a5a
                                             0e0f
++++++++++++++end of a record trailer++++++++++++
===========start of an assembly trailer==========
Assembly trailer word: 
                                             e0a3
                                             e0a2
                                             e0a1
Three words after Assembly trailer word: 
(if they are not 0s, error in received data)
                                             0000
                                             0000
					     0000



Oct. 30 2017

emacs view mode:
      M-x view-mode


FTK on-call:

1. Weekly report

   1. Lab4 tests
      1. test setup 
      	 boards
	 release
      	 tower
      	 pseduo data from TYPE XXX
      2. test goal
      	 Result of test
      3. Monitoring tools and bugs found
         Results of follow ups
      4. Summary of tests - what was learned

      5. Link to e-log, JIRA


   2. P1 tests
      1. test setup 
      	 boards
      	 release
      	 tower
      	 pseduo data from TYPE XXX
      2. test goal
      	 Result of test
      3. Monitoring tools and bugs found
         Results of follow ups
      4. Summary of tests - what was learned

      5. Link to e-log, JIRA

   3. DCS Summary
      1. DCS issues and actions this week

   4. Other issues



what's SSB extraplator
       
       slice 2 : IM + DF + AUX -> ROS
       slice A:  All -> ROS (test this week)

       VME DCS text message -> normal

running at P1:

[pewang@pc-atlas-pub-01 ~]$ source  /det/ftk/setup_SliceA_08.sh
[pewang@pc-atlas-pub-01 ~]$ ipc_ls -P -l -> who's running which partition
matter most take slice A
change prescale on IM 

 /det/ftk/repo/oks/FTK-02-00-08/ftk/segments/FTK-RCD-DataFormatter.data.xml -> DF slice RCD 0x3f one of every 64
 <attr name="IM_PrescaleL1IDMask" type="u32">0x3f</attr>

[pewang@pc-atlas-pub-01 ~]$ setup_daq -P FTK_SliceA -> run slice A

double check the segment

go through INIT -> Config

before start the run

mattermost "reference" -> source

Run number 339500

L1 out Trigger rate: 72263.1172

Hit "run" but cancel the information notification

 /det/ftk/tools/FTK_Solo_run/FTK_Solo.sh -> monitor dataflow

[pewang@pc-atlas-pub-01 ~]$ cd /atlas-home/1/pewang/StatusOutput/2017-10-30/14h07m16s/
[pewang@pc-atlas-pub-01 14h07m16s]$ ls


cd /atlas-home/1/pewang/StatusOutput/2017-10-30/14h07m16s/DF-IM/crtShelf-2/slot-4

============ Firmware Versions =============
Firmware Version=98361   (0X00018039)
firmware version of FPGA=0 is 0Xc0fb
firmware version of FPGA=1 is 0Xc0fa
firmware version of FPGA=2 is 0X40fa
firmware version of FPGA=3 is 0X40fa
firmware version of FPGA=4 is 0Xc0fb
firmware version of FPGA=5 is 0Xc0fa
firmware version of FPGA=6 is 0X40fa
firmware version of FPGA=7 is 0X40fa


/atlas-home/1/pewang/StatusOutput/2017-10-30/14h07m16s/DF-IM/crtShelf-2/slot-4


[Device:DF-2-04-slice Node:reg.input_link_reenabled_count_0_2.ch0] read :0X00000000
[Device:DF-2-04-slice Node:reg.input_link_reenabled_count_0_2.ch1] read :0X00000000
[Device:DF-2-04-slice Node:reg.input_link_reenabled_count_0_2.ch2] read :0X00000000
[Device:DF-2-04-slice Node:reg.input_link_reenabled_count_3_5.ch3] read :0X00000000
[Device:DF-2-04-slice Node:reg.input_link_reenabled_count_3_5.ch4] read :0X00000000
[Device:DF-2-04-slice Node:reg.input_link_reenabled_count_3_5.ch5] read :0X00000000
[Device:DF-2-04-slice Node:reg.input_link_reenabled_count_6_8.ch6] read :0X00000000
[Device:DF-2-04-slice Node:reg.input_link_reenabled_count_6_8.ch7] read :0X00000000
[Device:DF-2-04-slice Node:reg.input_link_reenabled_count_6_8.ch8] read :0X00000000
[Device:DF-2-04-slice Node:reg.input_link_reenabled_count_9_11.ch9] read :0X00000000
[Device:DF-2-04-slice Node:reg.input_link_reenabled_count_9_11.ch10] read :0X00000000
[Device:DF-2-04-slice Node:reg.input_link_reenabled_count_9_11.ch11] read :0X00000000
[Device:DF-2-04-slice Node:reg.input_link_reenabled_count_12_14.ch12] read :0X00000000
[Device:DF-2-04-slice Node:reg.input_link_reenabled_count_12_14.ch13] read :0X00000000
[Device:DF-2-04-slice Node:reg.input_link_reenabled_count_12_14.ch14] read :0X00000000
[Device:DF-2-04-slice Node:reg.input_link_reenabled_count_15.ch15] read :0X00000000

make sure every channel is zero


do this every ~15 minutes
bash /det/ftk/tools/SaveAllSpyISEMon_IMDF_v0.sh FTK_SliceA 2 4 DF-2-04-slice FTK-RCD-DF

catch the DF error "E  X"

only run partiction from  pub machine
only talk to DF and IM form pc-ftk-tdq-01 -> DF and IM tests
bash /det/ftk/tools/SaveAllSpyISEMon_IMDF_v0.sh FTK_SliceA 2 4 DF-2-04 FTK-RCD-DF

[pewang@pc-ftk-tdq-01 ~]$ source /det/ftk/setup_SliceA_08.sh

look at both "E " and link_reenabled_count

"File" -> exit but click "no" to keep the partition running

figure out why stops


18:35 stop partition




Oct 31 2017

Latex variable -> thesis

FTK test this afternoon -> SSB is able to reconstruct tracks


Test SSB:
whether it's able to reconstruct tracks

Run number: 339507
L1 trigger rate: 73080.4609

SSB:
   	    13888 events out


Data flow stops with prescale: extrapolator



 <attr name="usePseudoData" type="bool">1</attr>
 <attr name="IM_PrescaleL1IDMask" type="u32">0x0</attr>

17:27:29 ERROR RCD-VME-Y.07-07.A2-crate4 ftk::VmeError Found error when accessing the vme library: error: 0x205      => major: Error   5 in package   2 => VMEbus driver/library for the RCC: VMEbus bus error received
 

Summary of commands used in test at P1:
1. To run RC GUI at P1:
   1. login_to lxplus
   2. ssh -CY atlasgw
      1. wait for authorization from shift leader
      2. pc-atlas-pub-01
      2. source  /det/ftk/setup_SliceA_08.sh
      3. setup_daq -P FTK_SliceA 

2. To run Solorun at P1:
   1. login_to lxplus
   2. ssh -CY atlasgw
      1. wait for authorization from shift leader
      2. pc-ftk-tdq-01
      3. source  /det/ftk/setup_SliceA_08.sh
      4. /det/ftk/tools/FTK_Solo_run/FTK_Solo.sh

3. Change prescale at IM:
   1. /det/ftk/repo/oks/FTK-02-00-08/ftk/segments/FTK-RCD-DataFormatter.data.xml 
   DF-02-04-slice -> slice A
   df-2-04 -> shelf test
   2. <attr name="IM_PrescaleL1IDMask" type="u32">0x3f</attr>

4. Use pseudodata on slice A:
   1.  <attr name="usePseudoData" type="bool">1</attr>


Nov. 1 2017

software transition test:
init -> shutdown good

init -> config : good


11:08:54 ERROR FTK-RCD-DF-Slice2 config::Generic failed to init 'DF-2-09-slice@ReadoutModule_DataFormatter':
	 was caused by: 2017-Nov-01 11:08:54,150 ERROR [virtual void RdbConfigObject::get(...) at /afs/cern.ch/atlas/project/tdaq/cmake/projects/tdaq/tdaq-07-01-00/rdbconfig/src/RdbConfigObject.cpp:335] failed to get value of attribute 'IM_isDupliRemove' for object 'DF-2-09-slice@ReadoutModule_DataFormatter'
	 was caused by: 2017-Nov-01 11:08:54,150 ERROR [rdb::DataUnion& RdbConfigObject::get_attribute_value(...) at /afs/cern.ch/atlas/project/tdaq/cmake/projects/tdaq/tdaq-07-01-00/rdbconfig/src/RdbConfigObject.cpp:214] cannot find single-value attribute 'IM_isDupliRemove' for object 'DF-2-09-slice@ReadoutModule_DataFormatter'
 

how to check FTK is running


--------------------------
solorun on slice 2 - errors


Description >DF mon start (~3 sec)2017-Nov-01 11:28:52,534 WARNING [virtual void daq::ftk::StatusRegisterISVector::readout(...) at /afs/cern.ch/user/f/ftk/inst/releases/FTK-02-00-08.patches/ftkcommon/src/StatusRegisterISVector.cxx:43] Generic FTK Issue: Failed to read out a status register vector from IS: check if object DF.FTK.DF-2-04-slice with attribute DF_wcount_sr_v exists!
	    was caused by: 2017-Nov-01 11:28:52,534 ERROR [is::repository_var is::server::resolve(...) at /data/atdsoft/build-patches/is/src/server.cc:31] IS repository 'DF' does not exist
	    was caused by: 2017-Nov-01 11:28:52,534 ERROR [ipc::_objref_partition* ipc::util::getPartition(...) at /data/atdsoft/build/ipc/src/util.cc:252] Partition "FTK_SliceA" does not exist
	    was caused by: 2017-Nov-01 11:28:52,534 ERROR [CORBA::Object* ipc::util::resolvePartition(...) at /data/atdsoft/build/ipc/src/util.cc:299] Partition "FTK_SliceA" does not exist
	    was caused by: 2017-Nov-01 11:28:52,534 ERROR [CORBA::Object* ipc::util::resolvePartition(...) at /data/atdsoft/build/ipc/src/util.cc:300] CORBA user exception "NotFound" has been raised
2017-Nov-01 11:28:52,536 WARNING [virtual void daq::ftk::StatusRegisterISVector::readout(...) at /afs/cern.ch/user/f/ftk/inst/releases/FTK-02-00-08.patches/ftkcommon/src/StatusRegisterISVector.cxx:43] Generic FTK Issue: Failed to read out a status register vector from IS: check if object DF.FTK.DF-2-04-slice with attribute DF_cwcount_sr_v exists!
	    was caused by: 2017-Nov-01 11:28:52,536 ERROR [is::repository_var is::server::resolve(...) at /data/atdsoft/build-patches/is/src/server.cc:31] IS repository 'DF' does not exist
	    was caused by: 2017-Nov-01 11:28:52,536 ERROR [ipc::_objref_partition* ipc::util::getPartition(...) at /data/atdsoft/build/ipc/src/util.cc:252] Partition "FTK_SliceA" does not exist
	    was caused by: 2017-Nov-01 11:28:52,536 ERROR [CORBA::Object* ipc::util::resolvePartition(...) at /data/atdsoft/build/ipc/src/util.cc:299] Partition "FTK_SliceA" does not exist
	    was caused by: 2017-Nov-01 11:28:52,536 ERROR [CORBA::Object* ipc::util::resolvePartition(...) at /data/atdsoft/build/ipc/src/util.cc:300] CORBA user exception "NotFound" has been raised
2017-Nov-01 11:28:52,538 WARNING [virtual void daq::ftk::StatusRegisterISVector::readout(...) at /afs/cern.ch/user/f/ftk/inst/releases/FTK-02-00-08.patches/ftkcommon/src/StatusRegisterISVector.cxx:43] Generic FTK Issue: Failed to read out a status register vector from IS: check if object DF.FTK.DF-2-04-slice with attribute DF_xoffcount_sr_v exists!






 <attr name="usePseudoData" type="bool">1</attr>



after click "STOP"

12:04:58 ERROR rc-is2cool is::InfoNotFound IS infomation 'DF.HLTSV.Events' does not exist 
12:04:58 ERROR rc-is2cool is::InfoNotFound IS infomation 'DF.HLTSV.Events' does not exist 
12:04:58 ERROR rc-is2cool is::InfoNotFound IS infomation 'DF.SFO-1' does not exist 


[pewang@pc-ftk-tdq-01 ~]$ emacs -nw /det/ftk/repo/oks/FTK-02-00-08/ftk/segments/FTK-segment_Slice2.data.xml 
config RCD linked in this file
  "RCD" "FTK-RCD-DF-Slice2"

 <file path="ftk/segments/FTK-RCD_DF_Slice2.data.xml"/>


screen shot -> slice 2

 <attr name="IPBus_TCF" type="string">"DF-2-09-slice/tx_configuration_noAuxSSB.txt"</attr>
tx_configuration_noSSB.txt

 <attr name="IPBus_TCF" type="string">"DF-2-09-slice/tx_configuration_noSSB.txt"</attr>

ssh sbc-ftk-rcc-03.cern.ch

source environment
[pewang@sbc-ftk-rcc-03 ftk]$ ps -ef | grep RCD
PID number 30573


[pewang@sbc-ftk-rcc-03 tools]$ ./transition.py -p FTK_Slice2 -P 30573 -n 5

when the transition gets disconnected, the segments are left at a state can't be controled by RC software, Another tool has to be used to change the state of segments so that 


[pewang@sbc-ftk-rcc-03 tools]$ rc_sender -p FTK_Slice2 -




Test 2: on slice A

constants in VME segment -> no problem

 <attr name="usePseudoData" type="bool">1</attr>
 <attr name="IM_PrescaleL1IDMask" type="u32">0x0</attr>

[pewang@pc-atlas-pub-08 ~]$ setup_daq -P FTK_SliceA_Config



[pewang@pc-atlas-pub-08 ~]$ emacs -nw /det/ftk/repo/oks/FTK-02-00-08/ftk/partitions/FTK_SliceA_config.data.xml

 <file path="ftk/segments/FTK-segment.data.xml"/>



Nov 2. 2017

first test the release at Lab4 and then test at P1:
/DC=org/DC=cilogon/C=US/O=Southern Methodist University/CN=Peilong Wang A44121

nightly release:
	setup script change to nightly release
	tag collector
	/afs/cern.ch/user/f/ftk/public/inst/tagCollector/FTK-nightly.csv


/tbed/oks/tdaq-07-01-00/FTK/FTK-02-00-08/
1. source the release
[pewang@pc-tbed-pub-06 ftk]$ setup_daq -p IM-DF-AUX-AMB-SSB-FLIC



Nov. 3 2017
     Run control desk shift:
     	 1. after change the "Segments and Resources", commit and reload to change in the database
	 2. if there are some new *.data.xml files appear when you commit and reload, ask shifter leader whether we should reload these new changed files
	 3. you can only change segments and resources when you are at "NONE" state
	 4. "data17_13TeV" is only used when there are collisions, otherwise "data_test" is used.

	 5. Bunch group key is provide by trigger after the beam injection


emacs word count command:
      1. Select a region.
      2. Run M-=, or M-| wc for older versions of emacs.
      3. See the count of lines, words, and characters, in the mode-line.


test SSB with empty packet with data



Nov. 4 2017

Slides for FTK meeting: ~ 10 pages



Nov. 8 2017

Give the finger = flip somebody off

unzip file.zip -d destination_folder



Nov. 14 2017

Flyspell enables on-the-fly spell checking in Emacs:
M-x flyspell-mode


./atlasbiblatex.sty:\ProvidesPackage{latex/atlasbiblatex}[2017/11/08 v.05-00-01 ATLAS biblatex style]
./atlascontribute.sty:\ProvidesPackage{latex/atlascontribute}[2017/11/08 v.05-00-01 ATLAS analysis contributions]
./atlascover.sty:\ProvidesPackage{latex/atlascover}[2017/11/08 v.05-00-01 ATLAS cover pages]
./atlascover1.sty:\ProvidesPackage{latex/atlascover}[2017/11/08 v.05-00-00 ATLAS deprecated cover pages]
./atlaspackage.sty:\ProvidesPackage{latex/atlaspackage}[2017/11/08 v.05-00-01 ATLAS LaTeX packages]
./atlasphysics.sty:\ProvidesPackage{latex/atlasphysics}[2017/11/08 v.05-00-01 ATLAS physics macros]
./other/authblk.sty:\ProvidesPackage{authblk}
./other/lineno.sty:\ProvidesPackage{lineno} 


Nov. 15 2017

1. Thesis topic, committee member
2. Motivation: VHbb not yet observed - higgs production and decay


Nov. 21 2017
Jean-Christophe -> reading list


Nov. 28 2017
show absolute path:
$ pwd -P


Nov. 29 2017
under MPI (processes created), creat multi-threads.

2 sockets, each socket has a CPU and a memeory, each CPU has several cores. Between two CPUs, there are connections.

sheng ming de yi yi shi shen me?


Nov. 30 2017

What are you interested in?

what is M-week?



Dec. 1 2017
lxplus add permissiono to any one recursively in one directory:
 recursively for anyone : find . -type d -print -exec fs setacl {} system:anyuser rl \; 

hist_0Lep_ttbar_2tag2jet_0ptv_SR_mBB_Nominal


Dec. 5 2017
FLIC test setup at Argonne:
     1. check out CERN SVN repo
     1. OKS data editor, TBE, 

way to solve the bugs for FLIC_MON_APP:

Delete anything related to flicNamed.h and m_flicNamed


Dec. 6 2017

list all the partition:
[pewang@pc-tbed-pub-01 flic_test]$ ipc_ls -P -l

kill a partition
[pewang@pc-tbed-pub-01 flic_test]$ pmg_kill_partition -p FLIC-ROS

list what'r running in the partition
[pewang@pc-tbed-pub-01 flic_test]$ ipc_ls -p IM-DF-AUX-AMB-SSB-FLIC



NtupleToHist:

MET:
    float MET = MET_Vec.Pt();
    MET_Vec.SetPtEtaPhiM(readNtuple->MET,0.0,readNtuple->MET_Phi,0.0);

lepton:
    LeptonVec.SetPtEtaPhiM(readNtuple->Lepton_Pt->at(0),readNtuple->Lepton_Eta->at(0),readNtuple->Lepton_Phi->at(0),readNtuple->Lepton_Mass->at(0));
    LeptonTransVec.SetPtEtaPhiM(readNtuple->Lepton_Pt->at(0),0.0,readNtuple->Lepton_Phi->at(0),readNtuple->Lepton_Mass->at(0));


Dec. 8 2017

     TLorentzVector MET_Vec
     MET_Vec.SetPtEtaPhiM(readNtuple->MET,0.0,readNtuple->MET_Phi,0.0);
     float dPhiLepMET =fabs( MET_Vec.DeltaPhi(LeptonTransVec) );	

     456 inline Double_t TLorentzVector::DeltaPhi(const TLorentzVector & v) const {
     457    return TVector2::Phi_mpi_pi(Phi()-v.Phi());
     458 }

     Make the plots on page 4:
     https://indico.cern.ch/event/680699/contributions/2789718/attachments/1559824/2455123/1lep_ttbar.pdf



Dec. 12 2017

jet - ECAL:
1. setup RootCore
   source setup.sh : /afs/cern.ch/user/p/pewang/public/Project/jet_prj

2. [pewang@lxplus031 jet_prj]$ rc make_skeleton MyPackage

3. Asg_FastJet -> Makefile.RootCore

4. copy the Algorithm from gitlab HFSF2017




Dec. 13 2017

/afs/cern.ch/user/p/pewang/public/Project/jet_prj/MyPackage/Root/CaloTowerPerformanceAnalysis.cxx: In member function ‘virtual EL::StatusCode CaloTowerPerformanceAnalysis::execute()’:
/afs/cern.ch/user/p/pewang/public/Project/jet_prj/MyPackage/Root/CaloTowerPerformanceAnalysis.cxx:95:34: error: ‘antikt_algorithm’ was not declared in this scope
   fastjet::JetDefinition jet_def(antikt_algorithm, R);
                                  ^


Jan 16. 2018


January 22th, 2018


 MVATree.cxx			:
 ReadTruthTree.cxx		:
 btagTool.cxx			:
 generateHistogram.cxx		:
 generateHistogram_0lep.cxx	:
 generateHistogram_1lep.cxx	:
 histSvc.cxx			:
 makeHistograms.cxx		: Where the input path is


HistToSyst : where the code make sys from the .root generated from NtupleToHist


List of ntuples at /eos/user/a/abell/TruthTuples_BETA_02/:
user.abell.mc15_13TeV.410225.aMcAtNloPythia8EvtGen_A14N23LO_ttbar_nonallhad.evgen.EVNT.e5465.VHbb.BETA_v01.04_EXT0	: done 800000
user.abell.mc15_13TeV.410501.PowhegPythia8EvtGen_A14_ttbar_hdamp258p75_nonallhad.evgen.EVNT.e5458.VHbb.BETA_v01.04_EXT0	: nominal, done 900000
user.abell.mc15_13TeV.410511.PowhegPythia8EvtGen_ttbar_hdamp517p5_nonallhad.evgen.EVNT.e5556.VHbb.BETA_v01.04_EXT0	: done 100000
user.abell.mc15_13TeV.410512.PowhegPythia8EvtGen_ttbar_hdamp258p75_nonallhad.evgen.EVNT.e5556.VHbb.BETA_v01.04_EXT0	: done 100000
user.abell.mc15_13TeV.410525.PowhegHerwig7EvtGen_H7UE_tt_hdamp258p75_nonallhad.evgen.EVNT.e5903.VHbb.BETA_v01.04_EXT0	: done 900000



January 23, 2018

void TH1::Sumw2

Create structure to store sum of squares of weights.
if histogram is already filled, the sum of squares of weights is filled with the existing bin contents
The error per bin will be computed as sqrt(sum of squares of weight) for each bin.

emacs - comment out lines command:
      select the region and then type the command "M - ;"

Removing the Stats Box from a Histogram in ROOT (and PyROOT):
    gStyle->SetOptStat(0)
    myhist->SetStats(kFALSE);
    another reference: https://gitlab.cern.ch/atlas-phys-exotics-dijetisr/Signal-Bias-Study/blob/master/python/fitter.py	


emacs - bulk indent for Python (link - https://stackoverflow.com/questions/2585091/emacs-bulk-indent-for-python):
      C-c > or C-c C-l shifts the region 4 spaces to the right
      C-c < or C-c C-r shifts the region 4 spaces to the left
      C-u 8 C-c > shifts the region 8 spaces to the right
      C-u 8 C-c < shifts the region 8 spaces to the left
      C-u 8 C-x TAB shifts the region 8 spaces to the right
      C-u -8 C-x TAB shifts the region 8 spaces to the left
Also useful are the rectangle commands that operate on rectangles of text instead of lines of text. 
     C-x r o inserts blank space to fill the rectangular region (effectively shifting code to the right)
     C-x r k kills the rectangular region (effectively shifting code to the left)
     C-x r t prompts for a string to replace the rectangle with. Entering C-u 8 <space> will then enter 8 spaces.


- 20180124

what is DR, DS schema


emacs - how to select a line or highlight a block:
      https://stackoverflow.com/questions/657672/how-to-select-or-highlight-a-block-in-emacs
      If I understand the question correctly, it is not about rectangular regions originally.

      C-Spc puts a mark at the current position.

      Wherever your cursor is afterwards, the text between the last mark and the current position is "selected" (you can highlight this by activating transient-mark-mode, but this will also mean that marks have to be deleted when you don't want highlight).

      You can operate on that region with commands like:

      C-w . . Kill region. This deletes and puts the region into the kill ring.
      C-y . . Yank. This inserts the last snippet from the kill ring.
      M-y . . Cycle kill ring. Immediately after C-y, this replaces the yanked part by the other snippets in the kill ring.
      M-w . . Save region into kill ring. Like C-w, but doesn't delete.

      This is just the basic usage. Marks have other uses, too. I recommend the tutorial (C-h t).


Python _Main_:
       some code will be run when imported. If this code is put in the _main_, then it won't be run when imported but only when the whole python code is running 

       https://stackoverflow.com/questions/4041238/why-use-def-main
       Without the main sentinel, the code would be executed even if the script were imported as a module.
       

Python - How to make a local variable (inside a function) global [duplicate]:
       Using parameters and return (recommended)

       def other_function(parameter):
           return parameter + 5

       def main_function():
       	   x = 10
	   print x    
       	   x = other_function(x)
       	   print x

Python - where to define function:
       def happyBirthdayEmily():
       	   print("Happy Birthday to you!")
       	   print("Happy Birthday to you!")
       	   print("Happy Birthday, dear Emily.")
       	   print("Happy Birthday to you!")

       happyBirthdayEmily()
       happyBirthdayEmily()


Python - Loop through multiple Lists:
       print "List comprehension:"
       for x, y in [(x,y) for x in a for y in b]:
           print x, y

Configure ssh for Password-less Login to lxplus or Other Linux Boxen
  http://information-technology.web.cern.ch/services/fe/mac-support/howto/configure-ssh-password-less-login-lxplus-or-other-linux-boxen
  in /etc/ssh/sshd_config file
SSH FAQ for CERN - kerbero
  https://twiki.cern.ch/twiki/bin/view/LinuxSupport/SSHatCERNFAQ
CentOS start sshd service command
  # service sshd start
Exercise2 : enable Kerberos logins to a host
  https://nsrc.org/workshops/ws-files/2011/sanog17/exercises/ex2-kerberos-host.html
Obtaining Tickets with kinit
  http://web.mit.edu/kerberos/krb5-1.4/krb5-1.4.3/doc/krb5-user/Obtaining-Tickets-with-kinit.html


Jan. 29, 2018

kill a process by name:
     pkill firefox

ROOT - delete histogram title:
 myhist->SetTitle("") or set the position of the TPaveText title to be outside the canvas.


merge all the eps file into one pdf file:
      gs -sDEVICE=pdfwrite -dNOPAUSE -dBATCH -dSAFER -sOutputFile=alloutput.pdf *.eps


Jan. 30, 2018

seaborn - python plot package


Feb. 1, 2018

=========================================================================
svn branch:
    create branch:

1. Create a new branch using svn copy. I suggest something descriptive like "SVN_to_GIT_branch_kavulich"

svn copy -m 'Creating branch for Git transition' https://svn-wrf-model.cgd.ucar.edu/trunk https://svn-wrf-model.cgd.ucar.edu/branches/SVN_to_GIT_branch_kavulich

NOTE: If your changes are based on a much older version of the trunk, you may want to create your branch from the same revision number as your current revision. You can find your revision number with "svn info".

svn copy -r8350 -m 'Creating branch for Git transition based off revision number 8350 of the trunk' https://svn-wrf-model.cgd.ucar.edu/trunk https://svn-wrf-model.cgd.ucar.edu/branches/SVN_to_GIT_branch_kavulich

2. Enter the directory which is your local copy of the SVN trunk with the changes you wish to save. 

cd /Users/kavulich/my_changes/trunk

svn status

M Registry/registry.var
M inc/version_decl

3. Use the "svn switch" command to convert your local "trunk" copy into a copy of this new branch. Your local changes will be preserved. If you receive any alerts about conflicts, be sure to select "mine-conflict" to keep your changes.

svn switch https://svn-wrf-model.cgd.ucar.edu/branches/SVN_to_GIT_branch_kavulich

svn status

M Registry/registry.var
M inc/version_decl
 

4. Use "svn commit" to commit your changes to this branch

svn commit -m 'Committing changes to my branch for the Git transition'
=========================================================================



how to resolve “local edit, incoming delete upon update” message:
    one general rule for solving this kind of technical problem -> copy and paste the error message to google and search it.


=========================================================================
How to create a service to run a script at shutdown and enable the service:


1. creat /etc/systemd/system/logbookpushtogitlab.service with the following code:

   [Unit]
   Description=Run logbookpushtogitlab.service at shutdown
   Requires=network.target
   DefaultDependencies=no
   Before=shutdown.target reboot.target

   [Service]
   Type=oneshot
   RemainAfterExit=yes
   ExecStart=/bin/true
   ExecStop=/usr/local/bin/logbookpushtogitlab

   [Install]
   WantedBy=multi-user.target

2. creat the script you wannna run, that is "/usr/local/bin/logbookpushtogitlab"
    #!/bin/bash
    # logbookpushtogitlab
    # push the latest logbook to gitlab
    # Peilong Wang 20180201

    echo "executing logbookpushtogitlab"

    # Run that command that we wanted to run
    mydir=${PWD}
    cd /home/peilong/Project/logbook
    git add -A
    timestamp=$(date)
    git commit -m "${timestamp}"
    git push
    cd $mydir

3. check the service by "systemctl status logbookpushtogitlab.service"

4. enable the service so that it auto run at bootup
   "systemctl enable logbookpushtogitlab.service"

refernce https://opensource.com/life/16/11/running-commands-shutdown-linux
	 https://unix.stackexchange.com/questions/284598/systemd-how-to-execute-script-at-shutdown-only-not-at-reboot
=========================================================================
C-u 73 =	add divider
C-u 4 C-x TAB	indent a region
=========================================================================



Feb. 2 2018


20180205
	

20180206
	feed ratio variation to limit settings
	
	Is it a counting experiment or shape comparison?
	
	event weight
	
	significance = ratio / uncertainty on ratio



20180207
	Tree_410501_1Lep
	Error in <TChain::SetBranchAddress>: unknown branch -> Jet_HadronConeExclTruthLabelID
	Error in <TChain::SetBranchAddress>: unknown branch -> MPT
	Error in <TChain::SetBranchAddress>: unknown branch -> MPT_Phi
	Error in <TTree::SetBranchStatus>: unknown branch -> Jet_HadronConeExclTruthLabelID
	Error in <TTree::SetBranchStatus>: unknown branch -> MPT
	Error in <TTree::SetBranchStatus>: unknown branch -> MPT_Phi


	lxplus LSF -jobs:
	https://twiki.cern.ch/twiki/bin/view/Main/HowtoUseLxplus
	      

20180212

job submitted:

410501
bsub -q 1nd NtupleToHist 1 /afs/cern.ch/user/p/pewang/public/Project/VHbbTruthAnalysis/VHbbTruthFramework/macros/NtupleToHist/410501 410501 /afs/cern.ch/user/p/pewang/public/Project/VHbbTruthAnalysis2/run
Job <142698527> is submitted to queue <1nd>.
410511
bsub -q 1nd NtupleToHist 1 /afs/cern.ch/user/p/pewang/public/Project/VHbbTruthAnalysis/VHbbTruthFramework/macros/NtupleToHist/410511 410511 /afs/cern.ch/user/p/pewang/public/Project/VHbbTruthAnalysis2/run
Job <142698530> is submitted to queue <1nd>.
410512
bsub -q 1nd NtupleToHist 1 /afs/cern.ch/user/p/pewang/public/Project/VHbbTruthAnalysis/VHbbTruthFramework/macros/NtupleToHist/410512 410512 /afs/cern.ch/user/p/pewang/public/Project/VHbbTruthAnalysis2/run
Job <142698532> is submitted to queue <1nd>.
410225
bsub -q 1nd NtupleToHist 1 /afs/cern.ch/user/p/pewang/public/Project/VHbbTruthAnalysis/VHbbTruthFramework/macros/NtupleToHist/410225 410225 /afs/cern.ch/user/p/pewang/public/Project/VHbbTruthAnalysis2/run
Job <142698533> is submitted to queue <1nd>.
410525
bsub -q 1nd NtupleToHist 1 /afs/cern.ch/user/p/pewang/public/Project/VHbbTruthAnalysis/VHbbTruthFramework/macros/NtupleToHist/410525 410525 /afs/cern.ch/user/p/pewang/public/Project/VHbbTruthAnalysis2/run
Job <142698536> is submitted to queue <1nd>.


February 14, 2018

how to rebin in ROOT TBrowser:
    You can also rebin your histogram via the editor, from the canvas menu View->Editor, then click on the histogram and select the “Binning” tab.

    
February 19, 2018
How do I parse command line arguments in Bash?
    https://stackoverflow.com/questions/192249/how-do-i-parse-command-line-arguments-in-bash


Feb. 20, 2018
Removing:
 libgpod                                             x86_64                                           0.8.3-14.el7                                           @epel                                           898 k
Removing for dependencies:
 rhythmbox                                           x86_64                                           3.3.1-5.el7                                            @base                                            14 M


Warning (emacs): Unable to activate package `python-environment'.
Required package `deferred-0.3.1' is unavailable
Warning (emacs): Unable to activate package `python-environment'.
Required package `deferred-0.3.1' is unavailable



Feb. 22, 2018
     what is mTW? float mTW = WTransVec.M()
     	     dYWH? float dYWH = std::fabs( (lepton + neu_tlv).Rapidity() - (b_jet1 + b_jet2).Rapidity() );
     
     once a year travel for conference in SMU


Feb. 23, 2018
     
1. source /cvmfs/atlas.cern.ch/repo/sw/tdaq/tdaq/tdaq-07-01-00/installed/setup.sh tdaq-07-01-00 x86_64-slc6-gcc62-opt

2. pm_part_hlt.py -p dummy

3. touch ipc_root.ref; TDAQ_IPC_INIT_REF=file:${PWD}/ipc_root.ref

4. pm_farm.py --safe-hw-tags --add='ustb[10,11,12,13,14,15,17,20,21]' farm.data.xml

5. create daq/hw and daq/segments and "mv farm.data.xml daq/hw/"

6. setup_daq -p dummy -d dummy.data.xml 


Feb. 26, 2018

plots on cern personal homepage


Feb. 28, 2018

git some commands:
…or create a new repository on the command line
echo "# talks_latex" >> README.md
git init
git add README.md
git commit -m "first commit"
git remote add origin git@github.com:wplong-1-github/talks_latex.git
git push -u origin master

…or push an existing repository from the command line
git remote add origin git@github.com:wplong-1-github/talks_latex.git
git push -u origin master

…or import code from another repository
You can initialize this repository with code from a Subversion, Mercurial, or TFS project.



Mar. 5, 2018

FTK Lab4 test:
[pewang@lxplus041 ~]$ ssh pc-tbed-pub.cern.ch -CY
[pewang@pc-tbed-pub-23 ftk_test]$ source /afs/cern.ch/user/f/ftk/bin/setup_ftk.sh FTK-02-00-10
export TDAQ_DB_DATA=/tbed/oks/tdaq-07-01-00/FTK/FTK-02-00-10/ftk/partitions/FTK.data.xml


DF-IM settings -> Lab4

      manual
      on-call training slides

Mar. 8, 2018
>>> a = [1,2,3,4,5]
>>> b = [x**2 for x in a]
>>> list1 = [3.33333333333333333, 5.2333333333333333, 4.55555555555555555]
>>> list1[::-1]
[4.555555555555555, 5.233333333333333, 3.3333333333333335]
>>> list2 = reversed(list1)
>>> list2
<listreverseiterator object at 0x857ad0>


Mar. 9th, 2017
Log into the testbed: ssh -YX pc-tbed-ftk-01.cern.ch
you need to use this: /tbed/oks/tdaq-07-01-00/FTK/FTK-02-00-11/ftk/setup_partition_lab4_tdaq7_nightly.sh

what's the difference among nightly, nightly-dev, and nightly-head?
-head is the trunk of the packages
-dev is the branches with the spybuffer publishing work
-nightly, It's whatever the package managers put into tag collector.  In principle it should be ready to go into a release, but I wouldn't call it stable.
